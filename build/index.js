"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** [[include:index.md]] */ /** */
/*! ****************************************************************************
Copyright (c) 2017-2018 Pedro Jos√© Batista
MIT License

See the LICENSE file for more information.
***************************************************************************** */
const big_js_1 = require("big.js");
const localization = require("./localization");
exports.localization = localization;
const utils = require("./utils");
exports.utils = utils;
// Gets the decimal separator from an ECMA locale string
function getLocalDecimalSeparator() {
    const value = 1.1;
    const separator = value.toLocaleString().substring(1, 2);
    return separator;
}
// Chooses the first non-undefined value, or throws
function oneOf(...values) {
    for (const value of values) {
        if (typeof (value) !== "undefined") {
            return value;
        }
    }
    throw new SyntaxError("All given values were undefined");
}
// Chooses the first non-undefined value, or returns undefined itself
function oneOrNoneOf(...values) {
    for (const value of values) {
        if (typeof (value) !== "undefined") {
            return value;
        }
    }
    return undefined;
}
// Threshold of decimal parts used to analyze if a number should be rounded
const redundancyCheckThreshold = 6;
// List of roman numerals in order from greater to lesser
const romanNumerals = [
    [1000, "M"], [900, "CM"], [500, "D"], [400, "CD"],
    [100, "C"], [90, "XC"], [50, "L"], [40, "XL"],
    [10, "X"], [9, "IX"], [5, "V"], [4, "IV"],
    [1, "I"],
];
// List of roman fractions in no specific order
const romanFractions = [
    [1 / 12, "‚Ä¢"], [2 / 12, ":"], [3 / 12, "‚à¥"], [4 / 12, "::"], [5 / 12, ":¬∑:"], [6 / 12, "S"],
    [7 / 12, "S‚Ä¢"], [8 / 12, "S:"], [9 / 12, "S‚à¥"], [10 / 12, "S::"], [11 / 12, "S:¬∑:"],
    [1 / 36, "∆ß∆ß"],
    [1 / 48, "∆Ü"],
    [1 / 72, "∆ß"],
    [1 / 144, "êÜî"],
    [1 / 288, "‚Ñà"],
    [1 / 1728, "êÜï"],
];
/**
 * A database of [[TimeUnit]] objects, used to measure and represent time values in different formats. Each property is
 * an object describing the time unit's nanosecond correlation ([[TimeUnit.factor]]), its linguistic properties for
 * English (US) and its symbol, if it exists.
 *
 * ---
 *
 * See [[TimeUnitDatabase]] for more information about time units.
 */
exports.timeUnits = {
    anomalistcMonth: { factor: 2.38071312e15, name: "anomalistcMonth" },
    anomalistcYear: { factor: 3.15584325504e16, name: "anomalistcYear" },
    attosecond: { factor: 1e-9, name: "attosecond", symbol: "as" },
    biennium: { factor: 3.1536e17, name: "biennium", customPlural: "biennia" },
    century: { factor: 3.1536e18, name: "century", customPlural: "centuries" },
    day: { factor: 8.64e13, name: "day" },
    decade: { factor: 3.1536e17, name: "decade" },
    draconicMonth: { factor: 2.351135808e15, name: "draconicMonth" },
    draconicYear: { factor: 2.994797455629e16, name: "draconicYear" },
    exasecond: { factor: 1e27, name: "exasecond", symbol: "Es" },
    exbisecond: { factor: 1.152921504606846976e27, name: "exbisecond", symbol: "Eis" },
    femtosecond: { factor: 1e-6, name: "femtosecond", symbol: "fs" },
    fortnight: { factor: 1.2096e15, name: "fortnight" },
    galacticYear: { factor: 7.4898e24, name: "galacticYear" },
    gibisecond: { factor: 1.073741824e18, name: "gibisecond", symbol: "Gis" },
    gigasecond: { factor: 1e18, name: "gigasecond", symbol: "Gs" },
    hour: { factor: 3.6e12, name: "hour", symbol: "h" },
    jiffy: { factor: 3e-15, name: "jiffy", customPlural: "jiffies" },
    julianYear: { factor: 3.15576e16, name: "julianYear", readableName: "Julian year" },
    kibisecond: { factor: 1.024e12, name: "kibisecond", symbol: "Kis" },
    kilosecond: { factor: 1e12, name: "kilosecond", symbol: "Ks" },
    leapYear: { factor: 3.16224e16, name: "leapYear" },
    lustrum: { factor: 1.5768e17, name: "lustrum", customPlural: "lustra" },
    mebisecond: { factor: 1.048576e15, name: "mebisecond", symbol: "Mis" },
    megasecond: { factor: 1e15, name: "megasecond", symbol: "Ms" },
    microsecond: { factor: 1e3, name: "microsecond", symbol: "¬µs" },
    milisecond: { factor: 1e6, name: "milisecond", symbol: "ms" },
    millenium: { factor: 3.1536e19, name: "millenium", customPlural: "millennia" },
    minute: { factor: 6e10, name: "minute", symbol: "min" },
    month: { factor: 2.628e15, name: "month" },
    nanosecond: { factor: 1, name: "nanosecond", symbol: "ns" },
    nonLeapYear: { factor: 3.1536e+16, name: "nonLeapYear", readableName: "non-leap year" },
    novennium: { factor: 2.83824e17, name: "novennium", customPlural: "novennia" },
    octennium: { factor: 2.52288e17, name: "octennium", customPlural: "octennia" },
    pepisecond: { factor: 1.125899906842624e24, name: "pepisecond", symbol: "Pis" },
    petasecond: { factor: 1e24, name: "petasecond", symbol: "Ps" },
    picosecond: { factor: 1e-2, name: "picosecond", symbol: "ps" },
    planckTime: { factor: 5.39056e-35, name: "planckTime", symbol: "t‚Çö", readableName: "Planck time" },
    quadrennium: { factor: 6.3072e17, name: "quadrennium", customPlural: "quadrennia" },
    quindecennium: { factor: 4.7304e17, name: "quindecennium", customPlural: "quindecennia" },
    quinquennium: { factor: 1.5768e17, name: "quinquennium", customPlural: "quinquennia" },
    second: { factor: 1e9, name: "second", symbol: "s" },
    septennium: { factor: 2.20752e17, name: "septennium", customPlural: "septennia" },
    shake: { factor: 10, name: "shake" },
    siderealDay: { factor: 8.616409e13, name: "siderealDay" },
    siderealHour: { factor: 3.590170416667e12, name: "siderealHour" },
    siderealMinute: { factor: 5.983617361111e10, name: "siderealMinute" },
    siderealMonth: { factor: 2.360591424e15, name: "siderealMonth" },
    siderealSecond: { factor: 9.972695601852e8, name: "siderealSecond" },
    siderealYear: { factor: 3.155814954e16, name: "siderealYear" },
    svedberg: { factor: 1e-4, name: "svedberg", symbol: "Sv" },
    synodicMonth: { factor: 2.55144384e15, name: "synodicMonth" },
    tebisecond: { factor: 1.099511627776e21, name: "tebisecond", symbol: "Tis" },
    terasecond: { factor: 1e21, name: "terasecond", symbol: "Ts" },
    timeUnit: { factor: 1.024e6, name: "timeUnit", symbol: "TU" },
    tropicalYear: { factor: 3.155693e16, name: "tropicalYear" },
    week: { factor: 6.048e14, name: "week" },
    year: { factor: 3.1556952e16, name: "year" },
    yobisecond: { factor: 1.208925819614629174706176e33, name: "yobisecond", symbol: "Yis" },
    yoctosecond: { factor: 1e-12, name: "yoctosecond" },
    yottasecond: { factor: 1e33, name: "yottasecond", symbol: "Ys" },
    zebisecond: { factor: 1.180591620717411303424e30, name: "zebisecond", symbol: "Zis" },
    zeptosecond: { factor: 1e-15, name: "zeptosecond" },
    zettasecond: { factor: 1e30, name: "zettasecond", symbol: "Zs" },
};
/**
 * Encapsulates a time value, implementing a [[NanosecondBasedTime]] capable of basic arithmetics and conversions (with
 * the help of [time units](../interfaces/_index_.timeunit.html)).
 *
 * To create a [[Time]] instance from any time unit, use [[Time.from]]; to convert the value from any Time instance, use
 * [[to]].
 */
class Time {
    /**
     * Converts a time value measured using the specifid unit of time to a nanosecond-based time, creating and returning
     * a new instance of the [[Time]] class.
     *
     * @param value
     *   Numeric value quantifying the time by the given unit.
     * @param timeUnit
     *   Unit of time that qualifies the given time value.
     * @return
     *   A new [[Time]] instance with the appropriate amount of nanoseconds.
     */
    static from(value, timeUnit) {
        if (typeof (timeUnit) === "string") {
            timeUnit = exports.timeUnits[timeUnit];
        }
        return new Time(value * timeUnit.factor);
    }
    /** Gets the time value in the same format it is stored, nanoseconds. */
    get nanoseconds() { return this._value; }
    /**
     * Initializes a new instance of the [[Time]] class, using the specified time in nanoSeconds.
     *
     * @param value
     *   Amount of nanoseconds that represent the desired point in time.
     */
    constructor(value) {
        if (typeof (value) === "object") {
            value = value.nanoseconds;
        }
        this._value = Math.abs(value);
    }
    /**
     * Adds the value of this time with the value of another time.
     *
     * @param {(number | Time)} time2
     *   A number -or- a [[Time]] to be added to this time.
     * @return
     *   A new [[Time]] object with the resulting time.
     */
    add(time2) {
        if (time2 instanceof Time) {
            time2 = time2._value;
        }
        return new Time(Math.abs(this._value + time2));
    }
    /**
     * Divides the value of this time by the value of another time.
     *
     * @param {(number | Time)} time2
     *   A number -or- a [[Time]] which will divide this time.
     * @return
     *   A new [[Time]] object with the resulting time.
     */
    divide(time2) {
        if (time2 instanceof Time) {
            time2 = time2._value;
        }
        if (time2 === 0) {
            return new Time(NaN);
        }
        return new Time(Math.abs(this._value / time2));
    }
    /**
     * Multiplies the value of this time with the value of another time.
     *
     * @param {(number | Time)} time2
     *   A number -or- a [[Time]] to be multiplied by this time.
     * @return
     *   A new [[Time]] object with the resulting time.
     */
    multiply(time2) {
        if (time2 instanceof Time) {
            time2 = time2._value;
        }
        return new Time(Math.abs(this._value * time2));
    }
    /**
     * Subtracts the value of another time from the value of this time.
     *
     * @param {(number | Time)} time2
     *   A number -or- a [[Time]] to be subtracted to this time.
     * @return
     *   A new [[Time]] object with the resulting time.
     */
    subtract(time2) {
        if (time2 instanceof Time) {
            time2 = time2._value;
        }
        return new Time(Math.abs(this._value - time2));
    }
    /**
     * Converts the value of the current [[Time]] instance to the quantity corresponding to the given time unit.
     *
     * @param timeUnit
     *   The unit of time used to convert from this nanosecond-based value.
     * @return
     *   A number which represents the same measurement as this time value, converted to the given time unit.
     */
    to(timeUnit) {
        if (typeof (timeUnit) === "string") {
            timeUnit = exports.timeUnits[timeUnit];
        }
        return this._value / timeUnit.factor;
    }
    /**
     * Gets a string representing the of value of this [[Time]] in nanoseconds.
     *
     * @return
     *   Number of nanoseconds followed by the symbol "ns".
     */
    toString() {
        return `${this._value} ns`;
    }
}
exports.Time = Time;
/**
 * **Time writers** are used to synthesize time values into strings.
 *
 * In order to maximize usability, instances of [[TimeWriter]] have multiple configuration points, which, in order, are:
 * - Defaults ‚Äî hardcoded for English (US);
 * - Options from the current [[Locale]];
 * - Options from the instance [[settings]];
 * - Options given as a parameter to [[write]].
 *
 * [[include:examples/timewriter.md]]
 */
class TimeWriter {
    /**
     * Initializes a new instance of the [[TimeWriter]] class optionally using the specified `settings`.
     *
     * @param settings
     *   An object containing the [[TimeWriterSettings]] used to configure the behavior of this time writer.
     */
    constructor(settings = {}) {
        this._settings = {};
        this._timeUnitSettingsCache = {};
        this._writerSettingsCache = {};
        this._settings = settings;
    }
    /** Gets or sets the object containing the [[TimeWriterSettings]] of this time writer. */
    get settings() { return this._settings; }
    // Actual implementation of write
    write(time, originTimeUnit, targetTimeUnit, options) {
        const isOptions = (parameter) => typeof (parameter) !== "string" && (!!parameter && !parameter.hasOwnProperty("factor"));
        if (isOptions(targetTimeUnit)) {
            options = targetTimeUnit;
            targetTimeUnit = undefined;
        }
        else if (isOptions(originTimeUnit)) {
            options = originTimeUnit;
            originTimeUnit = undefined;
        }
        options = options || {};
        this._writerSettingsCache = this._createWriterSettingsCache(options);
        const writerSettings = this._writerSettingsCache;
        originTimeUnit = originTimeUnit || writerSettings.defaultTimeUnit;
        targetTimeUnit = targetTimeUnit || originTimeUnit;
        if (typeof (time) === "number") {
            time = Time.from(time, originTimeUnit);
        }
        if (!(time instanceof Time)) {
            time = new Time(time);
        }
        if (typeof (targetTimeUnit) === "string") {
            targetTimeUnit = exports.timeUnits[targetTimeUnit];
        }
        this._timeUnitSettingsCache = this._createTimeUnitSettingsCache(targetTimeUnit);
        let targetValue = time.to(targetTimeUnit);
        if (!isNaN(targetValue) && targetValue !== Infinity) {
            const parts = big_js_1.Big(targetValue).toFixed().split(getLocalDecimalSeparator());
            // This will test for redundancy errors, caused by inaccuracies of floating points
            if (parts[1] && parts[1].length >= redundancyCheckThreshold && !/[^9]/.test(parts[1])) {
                targetValue = Math.round(targetValue);
            }
        }
        const writtenNumber = this._writeNumber(targetValue);
        if (writerSettings.hideTimeUnit) {
            return writtenNumber;
        }
        const timeUnitName = this._writeTimeUnit(targetValue);
        const spacing = writerSettings.spaceTimeUnit ? " " : "";
        return `${writtenNumber}${spacing}${timeUnitName}`;
    }
    // Since there are multiple methods that access the fully-overwritten settings, we create a cache for them
    // This cache is only pertinent during `write`
    // The first cache is for the time unit: 1) language, 2) languageDefault, 3) hardcoded
    _createTimeUnitSettingsCache(timeUnit) {
        const localeTimeUnits = (localization.Locale.settings.timeUnits || {});
        const language = localeTimeUnits[timeUnit.name] || {};
        const languageDefault = localization.Locale.settings.defaultOptions || {};
        const name = timeUnit.name.replace(/([a-z])([A-Z])/g, "$1 $2").toLowerCase();
        return {
            // tslint:disable:max-line-length
            customPlural: oneOrNoneOf(language.customPlural, languageDefault.customPlural || null, timeUnit.customPlural),
            pluralize: oneOf(language.pluralize, languageDefault.pluralize, timeUnit.pluralize, true),
            readableName: oneOf(language.readableName, languageDefault.readableName, timeUnit.readableName, name),
            symbol: oneOrNoneOf(language.symbol, languageDefault.symbol, timeUnit.symbol),
        };
    }
    // The second is for the writer itself: 1) method, 2) instance, 3) language, 3) defaults
    _createWriterSettingsCache(methodSettings) {
        methodSettings = methodSettings || {};
        const language = localization.Locale.settings.writerOptions || {};
        const terms1 = methodSettings.terms || {};
        const terms2 = this._settings.terms || {};
        const terms3 = language.terms || {};
        return {
            // tslint:disable:max-line-length
            decimalSeparator: oneOf(methodSettings.decimalSeparator, this._settings.decimalSeparator, language.decimalSeparator, "."),
            defaultTimeUnit: oneOf(methodSettings.defaultTimeUnit, this._settings.defaultTimeUnit, language.defaultTimeUnit, "nanosecond"),
            fractionDigits: oneOrNoneOf(methodSettings.fractionDigits, this._settings.fractionDigits, language.fractionDigits),
            hideTimeUnit: oneOf(methodSettings.hideTimeUnit, this._settings.hideTimeUnit, language.hideTimeUnit, false),
            numericNotation: oneOf(methodSettings.numericNotation, this._settings.numericNotation, language.numericNotation, "decimal"),
            numericWriter: oneOrNoneOf(methodSettings.numericWriter, this._settings.numericWriter, language.numericWriter),
            spaceTimeUnit: oneOf(methodSettings.spaceTimeUnit, this._settings.spaceTimeUnit, language.spaceTimeUnit, true),
            terms: {
                infinite: oneOf(terms1.infinite, terms2.infinite, terms3.infinite, "infinite"),
                nan: oneOf(terms1.nan, terms2.nan, terms3.nan, "not-a-number"),
            },
            verboseTimeUnit: oneOf(methodSettings.verboseTimeUnit, this._settings.verboseTimeUnit, language.verboseTimeUnit, false),
        };
    }
    // This parses all numeric properties: numericWriter, numericNotation, fractionDigits and decimalSeparator
    _writeNumber(value) {
        if (typeof (this._writerSettingsCache.numericWriter) === "function") {
            return this._writerSettingsCache.numericWriter(value);
        }
        const terms = this._writerSettingsCache.terms || {};
        if (value === Infinity) {
            return terms.infinite;
        }
        if (isNaN(value)) {
            return terms.nan;
        }
        if (this._writerSettingsCache.numericNotation === "roman") {
            return this._writeRoman(value);
        }
        if (this._writerSettingsCache.numericNotation === "roman-fractions") {
            return this._writeRoman(value, true);
        }
        const decimalSeparator = getLocalDecimalSeparator();
        let result;
        // The only big.js usage for this module is to write the numbers (JS math is faster for calculations):
        if (this._writerSettingsCache.numericNotation === "scientific") {
            result = big_js_1.Big(value).toExponential(this._writerSettingsCache.fractionDigits);
        }
        else {
            result = big_js_1.Big(value).toFixed(this._writerSettingsCache.fractionDigits);
        }
        if (this._writerSettingsCache.decimalSeparator === decimalSeparator) {
            return result;
        }
        return result.replace(decimalSeparator, this._writerSettingsCache.decimalSeparator);
    }
    _writeRoman(value, fractions = false) {
        if (value === 0) {
            return "nulla";
        }
        const fixedValue = Math.trunc(value);
        let amountLeft = fixedValue;
        let result = "";
        while (amountLeft > 0) {
            // The order of romanNumerals is important here: they are written from large to lesser
            for (const entry of romanNumerals) {
                // So, if value is 1111, this accounts for M (1000) first, then C (100), then X (10), then I (1)
                if (amountLeft >= entry[0]) {
                    amountLeft -= entry[0];
                    result += entry[1];
                    break;
                }
            }
        }
        if (fractions) {
            result += this._writeRomanFraction(value - fixedValue);
        }
        return result.length > 0 ? result : "nulla";
    }
    _writeRomanFraction(fraction) {
        let smallestDifference = Number.MAX_SAFE_INTEGER;
        let smallestIndex = -1;
        // Not much to explain: compares all romanFractions with the given fraction and returns the one with the
        // smallest difference (only faster if the difference is exactly zero)
        for (let i = 0; i < romanFractions.length; i += 1) {
            const romanFraction = romanFractions[i];
            const difference = Math.abs(fraction - romanFraction[0]);
            if (difference === 0) {
                return romanFraction[1];
            }
            if (difference < smallestDifference) {
                smallestDifference = difference;
                smallestIndex = i;
            }
        }
        return romanFractions[smallestIndex][1];
    }
    // This parses all linguistic properties: customPlural, pluralize, readableName and symbol
    _writeTimeUnit(value) {
        const timeUnitSettings = this._timeUnitSettingsCache;
        let pluralize = value > 1 && (!!timeUnitSettings.customPlural || timeUnitSettings.pluralize);
        let readableName = timeUnitSettings.readableName;
        // Never pluralize symbols
        if (!this._writerSettingsCache.verboseTimeUnit && timeUnitSettings.symbol) {
            readableName = timeUnitSettings.symbol;
            pluralize = false;
        }
        if (pluralize && !timeUnitSettings.customPlural) {
            readableName = `${readableName}s`;
        }
        if (pluralize && typeof (timeUnitSettings.customPlural) === "string") {
            readableName = timeUnitSettings.customPlural;
        }
        if (pluralize && typeof (timeUnitSettings.customPlural) === "function") {
            readableName = timeUnitSettings.customPlural(value);
        }
        return readableName;
    }
}
exports.TimeWriter = TimeWriter;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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TSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUU7SUFDdkUsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDdEUsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7SUFDOUQsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7SUFDL0QsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7SUFDN0QsU0FBUyxFQUFFLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUU7SUFDOUUsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDdkQsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0lBQzFDLFVBQVUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO0lBQzNELFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFO0lBQ3ZGLFNBQVMsRUFBRSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFO0lBQzlFLFNBQVMsRUFBRSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLFdB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Q0FBQztTQUNyQjtRQUVELElBQUksU0FBUyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFO1lBQzdDLFlBQVksR0FBRyxHQUFHLFlBQVksR0FBRyxDQUFDO1NBQ3JDO1FBRUQsSUFBSSxTQUFTLElBQUksT0FBTSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLFFBQVEsRUFBRTtZQUNqRSxZQUFZLEdBQUcsZ0JBQWdCLENBQUMsWUFBWSxDQUFDO1NBQ2hEO1FBRUQsSUFBSSxTQUFTLElBQUksT0FBTSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLFVBQVUsRUFBRTtZQUNuRSxZQUFZLEdBQUcsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsT0FBTyxZQUFZLENBQUM7SUFDeEIsQ0FBQztDQUNKO0FBbFVELGdDQWtVQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBbW2luY2x1ZGU6aW5kZXgubWRdXSAqLyAvKiogKi9cclxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggUGVkcm8gSm9zw6kgQmF0aXN0YVxyXG5NSVQgTGljZW5zZVxyXG5cclxuU2VlIHRoZSBMSUNFTlNFIGZpbGUgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbmltcG9ydCB7IEJpZyB9IGZyb20gXCJiaWcuanNcIjtcclxuaW1wb3J0ICogYXMgbG9jYWxpemF0aW9uIGZyb20gXCIuL2xvY2FsaXphdGlvblwiO1xyXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuLy8gVGhlc2UgZXhwb3J0cyBhbGxvdyB0aW1lY291bnQgc3ViLW1vZHVsZXMgdG8gYmUgYWNjZXNzZWQgZGlyZWN0bHkgdmlhIHRoZSBtYWluIG1vZHVsZVxyXG5leHBvcnQgeyBsb2NhbGl6YXRpb24gfTtcclxuZXhwb3J0IHsgdXRpbHMgfTtcclxuXHJcbi8vIEdldHMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIGZyb20gYW4gRUNNQSBsb2NhbGUgc3RyaW5nXHJcbmZ1bmN0aW9uIGdldExvY2FsRGVjaW1hbFNlcGFyYXRvcigpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gMS4xO1xyXG4gICAgY29uc3Qgc2VwYXJhdG9yID0gdmFsdWUudG9Mb2NhbGVTdHJpbmcoKS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICByZXR1cm4gc2VwYXJhdG9yO1xyXG59XHJcblxyXG4vLyBDaG9vc2VzIHRoZSBmaXJzdCBub24tdW5kZWZpbmVkIHZhbHVlLCBvciB0aHJvd3NcclxuZnVuY3Rpb24gb25lT2Y8VD4oLi4uIHZhbHVlczogQXJyYXk8VCB8IHVuZGVmaW5lZD4pIHtcclxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbGwgZ2l2ZW4gdmFsdWVzIHdlcmUgdW5kZWZpbmVkXCIpO1xyXG59XHJcblxyXG4vLyBDaG9vc2VzIHRoZSBmaXJzdCBub24tdW5kZWZpbmVkIHZhbHVlLCBvciByZXR1cm5zIHVuZGVmaW5lZCBpdHNlbGZcclxuZnVuY3Rpb24gb25lT3JOb25lT2Y8VD4oLi4uIHZhbHVlczogQXJyYXk8VCB8IHVuZGVmaW5lZD4pIHtcclxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcblxyXG4vLyBUaHJlc2hvbGQgb2YgZGVjaW1hbCBwYXJ0cyB1c2VkIHRvIGFuYWx5emUgaWYgYSBudW1iZXIgc2hvdWxkIGJlIHJvdW5kZWRcclxuY29uc3QgcmVkdW5kYW5jeUNoZWNrVGhyZXNob2xkID0gNjtcclxuXHJcbi8vIExpc3Qgb2Ygcm9tYW4gbnVtZXJhbHMgaW4gb3JkZXIgZnJvbSBncmVhdGVyIHRvIGxlc3NlclxyXG5jb25zdCByb21hbk51bWVyYWxzOiBBcnJheTxbbnVtYmVyLCBzdHJpbmddPiA9IFtcclxuICAgIFsxMDAwLCBcIk1cIl0sIFs5MDAsIFwiQ01cIl0sIFs1MDAsIFwiRFwiXSwgWzQwMCwgXCJDRFwiXSxcclxuICAgIFsxMDAsIFwiQ1wiXSwgIFs5MCwgXCJYQ1wiXSwgIFs1MCwgXCJMXCJdLCAgWzQwLCBcIlhMXCJdLFxyXG4gICAgWzEwLCBcIlhcIl0sICAgWzksIFwiSVhcIl0sICAgWzUsIFwiVlwiXSwgICBbNCwgXCJJVlwiXSxcclxuICAgIFsxLCBcIklcIl0sXHJcbl07XHJcblxyXG4vLyBMaXN0IG9mIHJvbWFuIGZyYWN0aW9ucyBpbiBubyBzcGVjaWZpYyBvcmRlclxyXG5jb25zdCByb21hbkZyYWN0aW9uczogQXJyYXk8W251bWJlciwgc3RyaW5nXT4gPSBbXHJcbiAgICBbMSAvIDEyLCBcIuKAolwiXSwgIFsyIC8gMTIsIFwiOlwiXSwgIFszIC8gMTIsIFwi4oi0XCJdLCAgWzQgLyAxMiwgXCI6OlwiXSwgICBbNSAvIDEyLCBcIjrCtzpcIl0sICAgWzYgLyAxMiwgXCJTXCJdLFxyXG4gICAgWzcgLyAxMiwgXCJT4oCiXCJdLCBbOCAvIDEyLCBcIlM6XCJdLCBbOSAvIDEyLCBcIlPiiLRcIl0sIFsxMCAvIDEyLCBcIlM6OlwiXSwgWzExIC8gMTIsIFwiUzrCtzpcIl0sXHJcbiAgICBbMSAvIDM2LCBcIsanxqdcIl0sXHJcbiAgICBbMSAvIDQ4LCBcIsaGXCJdLFxyXG4gICAgWzEgLyA3MiwgXCLGp1wiXSxcclxuICAgIFsxIC8gMTQ0LCBcIvCQhpRcIl0sXHJcbiAgICBbMSAvIDI4OCwgXCLihIhcIl0sXHJcbiAgICBbMSAvIDE3MjgsIFwi8JCGlVwiXSxcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBBIGRhdGFiYXNlIG9mIFtbVGltZVVuaXRdXSBvYmplY3RzLCB1c2VkIHRvIG1lYXN1cmUgYW5kIHJlcHJlc2VudCB0aW1lIHZhbHVlcyBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWFjaCBwcm9wZXJ0eSBpc1xyXG4gKiBhbiBvYmplY3QgZGVzY3JpYmluZyB0aGUgdGltZSB1bml0J3MgbmFub3NlY29uZCBjb3JyZWxhdGlvbiAoW1tUaW1lVW5pdC5mYWN0b3JdXSksIGl0cyBsaW5ndWlzdGljIHByb3BlcnRpZXMgZm9yXHJcbiAqIEVuZ2xpc2ggKFVTKSBhbmQgaXRzIHN5bWJvbCwgaWYgaXQgZXhpc3RzLlxyXG4gKlxyXG4gKiAtLS1cclxuICpcclxuICogU2VlIFtbVGltZVVuaXREYXRhYmFzZV1dIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRpbWUgdW5pdHMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdGltZVVuaXRzOiBUaW1lVW5pdERhdGFiYXNlPFRpbWVVbml0PiA9IHtcclxuICAgIGFub21hbGlzdGNNb250aDogeyBmYWN0b3I6IDIuMzgwNzEzMTJlMTUsIG5hbWU6IFwiYW5vbWFsaXN0Y01vbnRoXCIgfSxcclxuICAgIGFub21hbGlzdGNZZWFyOiB7IGZhY3RvcjogMy4xNTU4NDMyNTUwNGUxNiwgbmFtZTogXCJhbm9tYWxpc3RjWWVhclwiIH0sXHJcbiAgICBhdHRvc2Vjb25kOiB7IGZhY3RvcjogMWUtOSwgbmFtZTogXCJhdHRvc2Vjb25kXCIsIHN5bWJvbDogXCJhc1wiIH0sXHJcbiAgICBiaWVubml1bTogeyBmYWN0b3I6IDMuMTUzNmUxNywgbmFtZTogXCJiaWVubml1bVwiLCBjdXN0b21QbHVyYWw6IFwiYmllbm5pYVwiIH0sXHJcbiAgICBjZW50dXJ5OiB7IGZhY3RvcjogMy4xNTM2ZTE4LCBuYW1lOiBcImNlbnR1cnlcIiwgY3VzdG9tUGx1cmFsOiBcImNlbnR1cmllc1wiIH0sXHJcbiAgICBkYXk6IHsgZmFjdG9yOiA4LjY0ZTEzLCBuYW1lOiBcImRheVwiIH0sXHJcbiAgICBkZWNhZGU6IHsgZmFjdG9yOiAzLjE1MzZlMTcsIG5hbWU6IFwiZGVjYWRlXCIgfSxcclxuICAgIGRyYWNvbmljTW9udGg6IHsgZmFjdG9yOiAyLjM1MTEzNTgwOGUxNSwgbmFtZTogXCJkcmFjb25pY01vbnRoXCIgfSxcclxuICAgIGRyYWNvbmljWWVhcjogeyBmYWN0b3I6IDIuOTk0Nzk3NDU1NjI5ZTE2LCBuYW1lOiBcImRyYWNvbmljWWVhclwiIH0sXHJcbiAgICBleGFzZWNvbmQ6IHsgZmFjdG9yOiAxZTI3LCBuYW1lOiBcImV4YXNlY29uZFwiLCBzeW1ib2w6IFwiRXNcIiB9LFxyXG4gICAgZXhiaXNlY29uZDogeyBmYWN0b3I6IDEuMTUyOTIxNTA0NjA2ODQ2OTc2ZTI3LCBuYW1lOiBcImV4YmlzZWNvbmRcIiwgc3ltYm9sOiBcIkVpc1wiIH0sXHJcbiAgICBmZW10b3NlY29uZDogeyBmYWN0b3I6IDFlLTYsIG5hbWU6IFwiZmVtdG9zZWNvbmRcIiwgc3ltYm9sOiBcImZzXCIgfSxcclxuICAgIGZvcnRuaWdodDogeyBmYWN0b3I6IDEuMjA5NmUxNSwgbmFtZTogXCJmb3J0bmlnaHRcIiB9LFxyXG4gICAgZ2FsYWN0aWNZZWFyOiB7IGZhY3RvcjogNy40ODk4ZTI0LCBuYW1lOiBcImdhbGFjdGljWWVhclwiIH0sXHJcbiAgICBnaWJpc2Vjb25kOiB7IGZhY3RvcjogMS4wNzM3NDE4MjRlMTgsIG5hbWU6IFwiZ2liaXNlY29uZFwiLCBzeW1ib2w6IFwiR2lzXCIgfSxcclxuICAgIGdpZ2FzZWNvbmQ6IHsgZmFjdG9yOiAxZTE4LCBuYW1lOiBcImdpZ2FzZWNvbmRcIiwgc3ltYm9sOiBcIkdzXCIgfSxcclxuICAgIGhvdXI6IHsgZmFjdG9yOiAzLjZlMTIsIG5hbWU6IFwiaG91clwiLCBzeW1ib2w6IFwiaFwiIH0sXHJcbiAgICBqaWZmeTogeyBmYWN0b3I6IDNlLTE1LCBuYW1lOiBcImppZmZ5XCIsIGN1c3RvbVBsdXJhbDogXCJqaWZmaWVzXCIgfSxcclxuICAgIGp1bGlhblllYXI6IHsgZmFjdG9yOiAzLjE1NTc2ZTE2LCBuYW1lOiBcImp1bGlhblllYXJcIiwgcmVhZGFibGVOYW1lOiBcIkp1bGlhbiB5ZWFyXCIgfSxcclxuICAgIGtpYmlzZWNvbmQ6IHsgZmFjdG9yOiAxLjAyNGUxMiwgbmFtZTogXCJraWJpc2Vjb25kXCIsIHN5bWJvbDogXCJLaXNcIiB9LFxyXG4gICAga2lsb3NlY29uZDogeyBmYWN0b3I6IDFlMTIsIG5hbWU6IFwia2lsb3NlY29uZFwiLCBzeW1ib2w6IFwiS3NcIiB9LFxyXG4gICAgbGVhcFllYXI6IHsgZmFjdG9yOiAzLjE2MjI0ZTE2LCBuYW1lOiBcImxlYXBZZWFyXCIgfSxcclxuICAgIGx1c3RydW06IHsgZmFjdG9yOiAxLjU3NjhlMTcsIG5hbWU6IFwibHVzdHJ1bVwiLCBjdXN0b21QbHVyYWw6IFwibHVzdHJhXCIgfSxcclxuICAgIG1lYmlzZWNvbmQ6IHsgZmFjdG9yOiAxLjA0ODU3NmUxNSwgbmFtZTogXCJtZWJpc2Vjb25kXCIsIHN5bWJvbDogXCJNaXNcIiB9LFxyXG4gICAgbWVnYXNlY29uZDogeyBmYWN0b3I6IDFlMTUsIG5hbWU6IFwibWVnYXNlY29uZFwiLCBzeW1ib2w6IFwiTXNcIiB9LFxyXG4gICAgbWljcm9zZWNvbmQ6IHsgZmFjdG9yOiAxZTMsIG5hbWU6IFwibWljcm9zZWNvbmRcIiwgc3ltYm9sOiBcIsK1c1wiIH0sXHJcbiAgICBtaWxpc2Vjb25kOiB7IGZhY3RvcjogMWU2LCBuYW1lOiBcIm1pbGlzZWNvbmRcIiwgc3ltYm9sOiBcIm1zXCIgfSxcclxuICAgIG1pbGxlbml1bTogeyBmYWN0b3I6IDMuMTUzNmUxOSwgbmFtZTogXCJtaWxsZW5pdW1cIiwgY3VzdG9tUGx1cmFsOiBcIm1pbGxlbm5pYVwiIH0sXHJcbiAgICBtaW51dGU6IHsgZmFjdG9yOiA2ZTEwLCBuYW1lOiBcIm1pbnV0ZVwiLCBzeW1ib2w6IFwibWluXCIgfSxcclxuICAgIG1vbnRoOiB7IGZhY3RvcjogMi42MjhlMTUsIG5hbWU6IFwibW9udGhcIiB9LFxyXG4gICAgbmFub3NlY29uZDogeyBmYWN0b3I6IDEsIG5hbWU6IFwibmFub3NlY29uZFwiLCBzeW1ib2w6IFwibnNcIiB9LFxyXG4gICAgbm9uTGVhcFllYXI6IHsgZmFjdG9yOiAzLjE1MzZlKzE2LCBuYW1lOiBcIm5vbkxlYXBZZWFyXCIsIHJlYWRhYmxlTmFtZTogXCJub24tbGVhcCB5ZWFyXCIgfSxcclxuICAgIG5vdmVubml1bTogeyBmYWN0b3I6IDIuODM4MjRlMTcsIG5hbWU6IFwibm92ZW5uaXVtXCIsIGN1c3RvbVBsdXJhbDogXCJub3Zlbm5pYVwiIH0sXHJcbiAgICBvY3Rlbm5pdW06IHsgZmFjdG9yOiAyLjUyMjg4ZTE3LCBuYW1lOiBcIm9jdGVubml1bVwiLCBjdXN0b21QbHVyYWw6IFwib2N0ZW5uaWFcIiB9LFxyXG4gICAgcGVwaXNlY29uZDogeyBmYWN0b3I6IDEuMTI1ODk5OTA2ODQyNjI0ZTI0LCBuYW1lOiBcInBlcGlzZWNvbmRcIiwgc3ltYm9sOiBcIlBpc1wiIH0sXHJcbiAgICBwZXRhc2Vjb25kOiB7IGZhY3RvcjogMWUyNCwgbmFtZTogXCJwZXRhc2Vjb25kXCIsIHN5bWJvbDogXCJQc1wiIH0sXHJcbiAgICBwaWNvc2Vjb25kOiB7IGZhY3RvcjogMWUtMiwgbmFtZTogXCJwaWNvc2Vjb25kXCIsIHN5bWJvbDogXCJwc1wiIH0sXHJcbiAgICBwbGFuY2tUaW1lOiB7IGZhY3RvcjogNS4zOTA1NmUtMzUsIG5hbWU6IFwicGxhbmNrVGltZVwiLCBzeW1ib2w6IFwidOKCmlwiLCByZWFkYWJsZU5hbWU6IFwiUGxhbmNrIHRpbWVcIiB9LFxyXG4gICAgcXVhZHJlbm5pdW06IHsgZmFjdG9yOiA2LjMwNzJlMTcsIG5hbWU6IFwicXVhZHJlbm5pdW1cIiwgY3VzdG9tUGx1cmFsOiBcInF1YWRyZW5uaWFcIiB9LFxyXG4gICAgcXVpbmRlY2Vubml1bTogeyBmYWN0b3I6IDQuNzMwNGUxNywgbmFtZTogXCJxdWluZGVjZW5uaXVtXCIsIGN1c3RvbVBsdXJhbDogXCJxdWluZGVjZW5uaWFcIiB9LFxyXG4gICAgcXVpbnF1ZW5uaXVtOiB7IGZhY3RvcjogMS41NzY4ZTE3LCBuYW1lOiBcInF1aW5xdWVubml1bVwiLCBjdXN0b21QbHVyYWw6IFwicXVpbnF1ZW5uaWFcIiB9LFxyXG4gICAgc2Vjb25kOiB7IGZhY3RvcjogMWU5LCBuYW1lOiBcInNlY29uZFwiLCBzeW1ib2w6IFwic1wiIH0sXHJcbiAgICBzZXB0ZW5uaXVtOiB7IGZhY3RvcjogMi4yMDc1MmUxNywgbmFtZTogXCJzZXB0ZW5uaXVtXCIsIGN1c3RvbVBsdXJhbDogXCJzZXB0ZW5uaWFcIiB9LFxyXG4gICAgc2hha2U6IHsgZmFjdG9yOiAxMCwgbmFtZTogXCJzaGFrZVwiIH0sXHJcbiAgICBzaWRlcmVhbERheTogeyBmYWN0b3I6IDguNjE2NDA5ZTEzLCBuYW1lOiBcInNpZGVyZWFsRGF5XCIgfSxcclxuICAgIHNpZGVyZWFsSG91cjogeyBmYWN0b3I6IDMuNTkwMTcwNDE2NjY3ZTEyLCBuYW1lOiBcInNpZGVyZWFsSG91clwiIH0sXHJcbiAgICBzaWRlcmVhbE1pbnV0ZTogeyBmYWN0b3I6IDUuOTgzNjE3MzYxMTExZTEwLCBuYW1lOiBcInNpZGVyZWFsTWludXRlXCIgfSxcclxuICAgIHNpZGVyZWFsTW9udGg6IHsgZmFjdG9yOiAyLjM2MDU5MTQyNGUxNSwgbmFtZTogXCJzaWRlcmVhbE1vbnRoXCIgfSxcclxuICAgIHNpZGVyZWFsU2Vjb25kOiB7IGZhY3RvcjogOS45NzI2OTU2MDE4NTJlOCwgbmFtZTogXCJzaWRlcmVhbFNlY29uZFwiIH0sXHJcbiAgICBzaWRlcmVhbFllYXI6IHsgZmFjdG9yOiAzLjE1NTgxNDk1NGUxNiwgbmFtZTogXCJzaWRlcmVhbFllYXJcIiB9LFxyXG4gICAgc3ZlZGJlcmc6IHsgZmFjdG9yOiAxZS00LCBuYW1lOiBcInN2ZWRiZXJnXCIsIHN5bWJvbDogXCJTdlwiIH0sXHJcbiAgICBzeW5vZGljTW9udGg6IHsgZmFjdG9yOiAyLjU1MTQ0Mzg0ZTE1LCBuYW1lOiBcInN5bm9kaWNNb250aFwiIH0sXHJcbiAgICB0ZWJpc2Vjb25kOiB7IGZhY3RvcjogMS4wOTk1MTE2Mjc3NzZlMjEsIG5hbWU6IFwidGViaXNlY29uZFwiLCBzeW1ib2w6IFwiVGlzXCIgfSxcclxuICAgIHRlcmFzZWNvbmQ6IHsgZmFjdG9yOiAxZTIxLCBuYW1lOiBcInRlcmFzZWNvbmRcIiwgc3ltYm9sOiBcIlRzXCIgfSxcclxuICAgIHRpbWVVbml0OiB7IGZhY3RvcjogMS4wMjRlNiwgbmFtZTogXCJ0aW1lVW5pdFwiLCBzeW1ib2w6IFwiVFVcIiB9LFxyXG4gICAgdHJvcGljYWxZZWFyOiB7IGZhY3RvcjogMy4xNTU2OTNlMTYsIG5hbWU6IFwidHJvcGljYWxZZWFyXCIgfSxcclxuICAgIHdlZWs6IHsgZmFjdG9yOiA2LjA0OGUxNCwgbmFtZTogXCJ3ZWVrXCIgfSxcclxuICAgIHllYXI6IHsgZmFjdG9yOiAzLjE1NTY5NTJlMTYsIG5hbWU6IFwieWVhclwiIH0sXHJcbiAgICB5b2Jpc2Vjb25kOiB7IGZhY3RvcjogMS4yMDg5MjU4MTk2MTQ2MjkxNzQ3MDYxNzZlMzMsIG5hbWU6IFwieW9iaXNlY29uZFwiLCBzeW1ib2w6IFwiWWlzXCIgfSxcclxuICAgIHlvY3Rvc2Vjb25kOiB7IGZhY3RvcjogMWUtMTIsIG5hbWU6IFwieW9jdG9zZWNvbmRcIiB9LFxyXG4gICAgeW90dGFzZWNvbmQ6IHsgZmFjdG9yOiAxZTMzLCBuYW1lOiBcInlvdHRhc2Vjb25kXCIsIHN5bWJvbDogXCJZc1wiIH0sXHJcbiAgICB6ZWJpc2Vjb25kOiB7IGZhY3RvcjogMS4xODA1OTE2MjA3MTc0MTEzMDM0MjRlMzAsIG5hbWU6IFwiemViaXNlY29uZFwiLCBzeW1ib2w6IFwiWmlzXCIgfSxcclxuICAgIHplcHRvc2Vjb25kOiB7IGZhY3RvcjogMWUtMTUsIG5hbWU6IFwiemVwdG9zZWNvbmRcIiB9LFxyXG4gICAgemV0dGFzZWNvbmQ6IHsgZmFjdG9yOiAxZTMwLCBuYW1lOiBcInpldHRhc2Vjb25kXCIsIHN5bWJvbDogXCJac1wiIH0sXHJcbn07XHJcblxyXG4vKipcclxuICogQmFzZSAqKnRpbWUgdW5pdCoqIGRlZmluaXRpb247IGNvbnRhaW5zIGFsbCBsaW5ndWlzdGljLXJlbGF0ZWQgcHJvcGVydGllcyBwZXJ0YWluaW5nIHRvIHRoZSB1bml0IGJlaW5nIGRlc2NyaWJlZC5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVRpbWVVbml0IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmluZXMgYSBjdXN0b20gcGx1cmFsaXplZCBuYW1lIGZvciB0aGUgdGltZSB1bml0OyBpdCBjYW4gYmUgYSBzdHJpbmcsIHVzZWQgd2hlbmV2ZXIgdGhlIHF1YW50aXR5IG9mIHRpbWUgaXNcclxuICAgICAqIGdyZWF0ZXIgdGhhbiBvbmUgLW9yLSBhIGZ1bmN0aW9uLCBhYmxlIHRvIHJldHJpZXZlIGRpZmZlcmVudCB3b3JkcyBhY2NvcmRpbmcgdG8gc2FpZCBxdWFudGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0LCB3b3JkcyBhcmUgcGx1cmFsaXplZCBieSBhZGRpbmcgXCJzXCIgdG8gdGhlIGVuZCBvZiB0aGUgcmVhZGFibGUgbmFtZS5cclxuICAgICAqL1xyXG4gICAgY3VzdG9tUGx1cmFsPzogc3RyaW5nIHwgTnVtZXJpY1dyaXRlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgdGltZSB1bml0IHNob3VsZCBiZSBwbHVyYWxpemVkLCBlaXRoZXIgYnkgYWRkaW5nIFwic1wiIHRvIHRoZSBlbmQgb2YgdGhlIHJlYWRhYmxlIG5hbWUgb3JcclxuICAgICAqIHVzaW5nIFtbY3VzdG9tUGx1cmFsXV07IHRoZSBkZWZhdWx0IGlzIHRydWUuXHJcbiAgICAgKi9cclxuICAgIHBsdXJhbGl6ZT86IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOYW1lIG9mIHRoZSB0aW1lIHVuaXQgcHJlc2VudGVkIGluIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxyXG4gICAgICpcclxuICAgICAqIEZvciB0aW1lY291bnQncyBkZWZhdWx0IGxhbmd1YWdlIOKAlCBFbmdsaXNoIChVUykg4oCUIHRoaXMgaXMgcGFyc2VkIGZyb20gdGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgY29udGFpbnMgdGhlXHJcbiAgICAgKiB1bml0LiBGb3IgZXhhbXBsZSwgXCJnYWxhdGljWWVhclwiIGlzIHBhcnNlZCBhcyBcImdhbGF0aWMgeWVhclwiOyBob3dldmVyLCBpbiBjYXNlcyBsaWtlIFwicGxhbmNrVGltZVwiLCB0aGF0IHdvdWxkXHJcbiAgICAgKiByZW5kZXIgXCJwbGFuY2sgdGltZVwiLCB3aXRob3V0IHRoZSBjYXBpdGFsaXphdGlvbiwgc28gYSBfcmVhZGFibGVOYW1lXyBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIC0tLVxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSB3aXNoIHRvIGhlbHAgdGltZWNvdW50IGJ5IHRyYW5zbGF0aW5nIGl0IHRvIGEga25vd24gbGFuZ3VhZ2Ugb2YgeW91cnMsIGNoZWNrIG91dFxyXG4gICAgICogW0NvbnRyaWJ1dGluZzogVHJhbnNsYXRpbmddKGh0dHBzOi8vZ2l0aHViLmNvbS9wamJhdGlzdGEvdGltZWNvdW50L2Jsb2IvbWFzdGVyL0NPTlRSSUJVVElORy5tZCN0cmFuc2xhdGluZykuXHJcbiAgICAgKi9cclxuICAgIHJlYWRhYmxlTmFtZT86IHN0cmluZztcclxuXHJcbiAgICAvKiogQSBzeW1ib2wgcmVwcmVzZW50aW5nIHRoZSB0aW1lIHVuaXQgKGUuZy4gXCJzXCIgZm9yIHNlY29uZHMpLiAqL1xyXG4gICAgc3ltYm9sPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQSB0aW1lIHZhbHVlIG1lYXN1cmVkIGluIG5hbm9zZWNvbmRzLlxyXG4gKlxyXG4gKiBUaW1lY291bnQgd2lsbCBhbHdheXMgYmFzZSBpdHMgY2FsY3VsYXRpb25zIG9uIG5hbm9zZWNvbmRzLCBvbmx5IGJlY2F1c2UgaXQgc2VlbWVkIGFwcHJvcHJpYXRlOiBpdHMgc21hbGxlc3QgdGltZVxyXG4gKiB1bml0LCBQbGFuY2sgdGltZSwgY29ycmVsYXRlcyB3aXRoIG5hbm9zZWNvbmRzIGJ5IH4xMOKBu8Kz4oG1OyBpdHMgZ3JlYXRlc3QsIHlvdHRhc2Vjb25kLCBieSB+MTDCs8KzLiBJdCdzIHByZXR0eSBtdWNoXHJcbiAqIGJhbGFuY2VkLCBfYXMgYWxsIHRoaW5ncyBzaG91bGQgYmVfLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBOYW5vc2Vjb25kQmFzZWRUaW1lIHtcclxuXHJcbiAgICAvKiogR2V0cyB0aGUgcXVhbnRpdHkgb2YgdGltZSwgaW4gbmFub3NlY29uZHMuICovXHJcbiAgICByZWFkb25seSBuYW5vc2Vjb25kczogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyB0eXBlIGNvbnRhaW5zIHRoZSBhdmFpbGFibGUgZGVzaWduYXRpb25zIGZvciBbW1R5cGVXcml0ZXJTZXR0aW5ncy5udW1lcmljTm90YXRpb25dXS5cclxuICogLSAqKlwiZGVjaW1hbFwiIC0qKiBUaGUgc3RhbmRhcmQgX0hpbmR14oCTQXJhYmljIG51bWVyYWwgc3lzdGVtXyB1c2luZyBiYXNlIHRlbjtcclxuICogLSAqKlwicm9tYW5cIiAtKiogVGhlIG51bWVyaWMgc3lzdGVtIG9mIHRoZSBhbmNpZW50IFJvbWUsIGlnbm9yaW5nIGZyYWN0aW9ucztcclxuICogLSAqKlwicm9tYW4tZnJhY3Rpb25zXCIgLSoqIFRoZSBudW1lcmljIHN5c3RlbSBvZiB0aGUgYW5jaWVudCBSb21lLCB1c2luZ1xyXG4gKiAgIFtjb21tb24gUm9tYW4gZnJhY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Sb21hbl9udW1lcmFscyNGcmFjdGlvbnMpO1xyXG4gKiAtICoqXCJzY2llbnRpZmljXCIgLSoqIEV4cG9uZW50IG5vdGF0aW9uOyBhIG1ldGhvZCBmb3Igd3JpdGluZyB2ZXJ5IHNtYWxsIGFuZCB2ZXJ5IGxhcmdlIG51bWJlcnMgdXNpbmcgcG93ZXJzIG9mIDEwLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgTnVtZXJpY05vdGF0aW9uID0gXCJkZWNpbWFsXCIgfCBcInJvbWFuXCIgfCBcInJvbWFuLWZyYWN0aW9uc1wiIHwgXCJzY2llbnRpZmljXCI7XHJcblxyXG4vKipcclxuICogRnVuY3Rpb25zIG9mIHRoaXMgdHlwZSBhcmUgdXNlZCB0byBleHByZXNzIGEgY2VydGFpbiBxdWFudGl0eSBvZiB0aW1lIGJ5IFtbVGltZVdyaXRlcl1dIGFuZCBpcyBvbmUgb2YgdGhlIHBvc3NpYmxlXHJcbiAqIHZhbHVlIHR5cGVzIG9mIFtbVHlwZVdyaXRlclNldHRpbmdzLm51bWVyaWNXcml0ZXJdXSAodGhlIG90aGVyIGJlaW5nIGEgc3RyaW5nKS5cclxuICovXHJcbmV4cG9ydCB0eXBlIE51bWVyaWNXcml0ZXIgPSAocXVhbnRpdHk6IG51bWJlcikgPT4gc3RyaW5nO1xyXG5cclxuLyoqXHJcbiAqIEVuY2Fwc3VsYXRlcyBhIHRpbWUgdmFsdWUsIGltcGxlbWVudGluZyBhIFtbTmFub3NlY29uZEJhc2VkVGltZV1dIGNhcGFibGUgb2YgYmFzaWMgYXJpdGhtZXRpY3MgYW5kIGNvbnZlcnNpb25zICh3aXRoXHJcbiAqIHRoZSBoZWxwIG9mIFt0aW1lIHVuaXRzXSguLi9pbnRlcmZhY2VzL19pbmRleF8udGltZXVuaXQuaHRtbCkpLlxyXG4gKlxyXG4gKiBUbyBjcmVhdGUgYSBbW1RpbWVdXSBpbnN0YW5jZSBmcm9tIGFueSB0aW1lIHVuaXQsIHVzZSBbW1RpbWUuZnJvbV1dOyB0byBjb252ZXJ0IHRoZSB2YWx1ZSBmcm9tIGFueSBUaW1lIGluc3RhbmNlLCB1c2VcclxuICogW1t0b11dLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRpbWUgaW1wbGVtZW50cyBOYW5vc2Vjb25kQmFzZWRUaW1lIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgdGltZSB2YWx1ZSBtZWFzdXJlZCB1c2luZyB0aGUgc3BlY2lmaWQgdW5pdCBvZiB0aW1lIHRvIGEgbmFub3NlY29uZC1iYXNlZCB0aW1lLCBjcmVhdGluZyBhbmQgcmV0dXJuaW5nXHJcbiAgICAgKiBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgW1tUaW1lXV0gY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiAgIE51bWVyaWMgdmFsdWUgcXVhbnRpZnlpbmcgdGhlIHRpbWUgYnkgdGhlIGdpdmVuIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0gdGltZVVuaXRcclxuICAgICAqICAgVW5pdCBvZiB0aW1lIHRoYXQgcXVhbGlmaWVzIHRoZSBnaXZlbiB0aW1lIHZhbHVlLlxyXG4gICAgICogQHJldHVyblxyXG4gICAgICogICBBIG5ldyBbW1RpbWVdXSBpbnN0YW5jZSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBhbW91bnQgb2YgbmFub3NlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbSh2YWx1ZTogbnVtYmVyLCB0aW1lVW5pdDogVGltZVVuaXRQYXJhbWV0ZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZih0aW1lVW5pdCkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdGltZVVuaXQgPSB0aW1lVW5pdHNbdGltZVVuaXRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lKHZhbHVlICogdGltZVVuaXQuZmFjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF92YWx1ZTogbnVtYmVyO1xyXG5cclxuICAgIC8qKiBHZXRzIHRoZSB0aW1lIHZhbHVlIGluIHRoZSBzYW1lIGZvcm1hdCBpdCBpcyBzdG9yZWQsIG5hbm9zZWNvbmRzLiAqL1xyXG4gICAgcHVibGljIGdldCBuYW5vc2Vjb25kcygpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgW1tUaW1lXV0gY2xhc3MsIHVzaW5nIHRoZSBzcGVjaWZpZWQgdGltZSBpbiBuYW5vU2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqICAgQW1vdW50IG9mIG5hbm9zZWNvbmRzIHRoYXQgcmVwcmVzZW50IHRoZSBkZXNpcmVkIHBvaW50IGluIHRpbWUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih2YWx1ZTogbnVtYmVyIHwgTmFub3NlY29uZEJhc2VkVGltZSkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm5hbm9zZWNvbmRzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSB2YWx1ZSBvZiB0aGlzIHRpbWUgd2l0aCB0aGUgdmFsdWUgb2YgYW5vdGhlciB0aW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KG51bWJlciB8IFRpbWUpfSB0aW1lMlxyXG4gICAgICogICBBIG51bWJlciAtb3ItIGEgW1tUaW1lXV0gdG8gYmUgYWRkZWQgdG8gdGhpcyB0aW1lLlxyXG4gICAgICogQHJldHVyblxyXG4gICAgICogICBBIG5ldyBbW1RpbWVdXSBvYmplY3Qgd2l0aCB0aGUgcmVzdWx0aW5nIHRpbWUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZGQodGltZTI6IG51bWJlciB8IFRpbWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHRpbWUyIGluc3RhbmNlb2YgVGltZSkge1xyXG4gICAgICAgICAgICB0aW1lMiA9IHRpbWUyLl92YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVGltZShNYXRoLmFicyh0aGlzLl92YWx1ZSArIHRpbWUyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXZpZGVzIHRoZSB2YWx1ZSBvZiB0aGlzIHRpbWUgYnkgdGhlIHZhbHVlIG9mIGFub3RoZXIgdGltZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXIgfCBUaW1lKX0gdGltZTJcclxuICAgICAqICAgQSBudW1iZXIgLW9yLSBhIFtbVGltZV1dIHdoaWNoIHdpbGwgZGl2aWRlIHRoaXMgdGltZS5cclxuICAgICAqIEByZXR1cm5cclxuICAgICAqICAgQSBuZXcgW1tUaW1lXV0gb2JqZWN0IHdpdGggdGhlIHJlc3VsdGluZyB0aW1lLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGl2aWRlKHRpbWUyOiBudW1iZXIgfCBUaW1lKSB7XHJcblxyXG4gICAgICAgIGlmICh0aW1lMiBpbnN0YW5jZW9mIFRpbWUpIHtcclxuICAgICAgICAgICAgdGltZTIgPSB0aW1lMi5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGltZTIgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaW1lKE5hTik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRpbWUoTWF0aC5hYnModGhpcy5fdmFsdWUgLyB0aW1lMikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTXVsdGlwbGllcyB0aGUgdmFsdWUgb2YgdGhpcyB0aW1lIHdpdGggdGhlIHZhbHVlIG9mIGFub3RoZXIgdGltZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXIgfCBUaW1lKX0gdGltZTJcclxuICAgICAqICAgQSBudW1iZXIgLW9yLSBhIFtbVGltZV1dIHRvIGJlIG11bHRpcGxpZWQgYnkgdGhpcyB0aW1lLlxyXG4gICAgICogQHJldHVyblxyXG4gICAgICogICBBIG5ldyBbW1RpbWVdXSBvYmplY3Qgd2l0aCB0aGUgcmVzdWx0aW5nIHRpbWUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtdWx0aXBseSh0aW1lMjogbnVtYmVyIHwgVGltZSkge1xyXG5cclxuICAgICAgICBpZiAodGltZTIgaW5zdGFuY2VvZiBUaW1lKSB7XHJcbiAgICAgICAgICAgIHRpbWUyID0gdGltZTIuX3ZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lKE1hdGguYWJzKHRoaXMuX3ZhbHVlICogdGltZTIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YnRyYWN0cyB0aGUgdmFsdWUgb2YgYW5vdGhlciB0aW1lIGZyb20gdGhlIHZhbHVlIG9mIHRoaXMgdGltZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXIgfCBUaW1lKX0gdGltZTJcclxuICAgICAqICAgQSBudW1iZXIgLW9yLSBhIFtbVGltZV1dIHRvIGJlIHN1YnRyYWN0ZWQgdG8gdGhpcyB0aW1lLlxyXG4gICAgICogQHJldHVyblxyXG4gICAgICogICBBIG5ldyBbW1RpbWVdXSBvYmplY3Qgd2l0aCB0aGUgcmVzdWx0aW5nIHRpbWUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdWJ0cmFjdCh0aW1lMjogbnVtYmVyIHwgVGltZSkge1xyXG5cclxuICAgICAgICBpZiAodGltZTIgaW5zdGFuY2VvZiBUaW1lKSB7XHJcbiAgICAgICAgICAgIHRpbWUyID0gdGltZTIuX3ZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lKE1hdGguYWJzKHRoaXMuX3ZhbHVlIC0gdGltZTIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIHRoZSB2YWx1ZSBvZiB0aGUgY3VycmVudCBbW1RpbWVdXSBpbnN0YW5jZSB0byB0aGUgcXVhbnRpdHkgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gdGltZSB1bml0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aW1lVW5pdFxyXG4gICAgICogICBUaGUgdW5pdCBvZiB0aW1lIHVzZWQgdG8gY29udmVydCBmcm9tIHRoaXMgbmFub3NlY29uZC1iYXNlZCB2YWx1ZS5cclxuICAgICAqIEByZXR1cm5cclxuICAgICAqICAgQSBudW1iZXIgd2hpY2ggcmVwcmVzZW50cyB0aGUgc2FtZSBtZWFzdXJlbWVudCBhcyB0aGlzIHRpbWUgdmFsdWUsIGNvbnZlcnRlZCB0byB0aGUgZ2l2ZW4gdGltZSB1bml0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG8odGltZVVuaXQ6IFRpbWVVbml0UGFyYW1ldGVyKSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YodGltZVVuaXQpID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRpbWVVbml0ID0gdGltZVVuaXRzW3RpbWVVbml0XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSAvIHRpbWVVbml0LmZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvZiB2YWx1ZSBvZiB0aGlzIFtbVGltZV1dIGluIG5hbm9zZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5cclxuICAgICAqICAgTnVtYmVyIG9mIG5hbm9zZWNvbmRzIGZvbGxvd2VkIGJ5IHRoZSBzeW1ib2wgXCJuc1wiLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuX3ZhbHVlfSBuc2A7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBICoqdGltZSB1bml0KiogaXMgYSBtZWFzdXJlbWVudCBvZiB0aW1lLlxyXG4gKlxyXG4gKiBPYmplY3RzIG9mIHRoaXMgdHlwZSBzdG9yZSBsaW5ndWlzdC1iYXNlZCBwcm9wZXJ0aWVzIGZyb20gW1tCYXNlVGltZVVuaXRdXSBhbmQgdGhlIGNvcnJlbGF0aW9uIGJldHdlZW4gdGhlIHRpbWUgdW5pdFxyXG4gKiBhbmQgbmFub3NlY29uZHMgKGkuZS4gaG93IG1hbnkgbmFub3NlY29uZHMgZml0IGluIG9uZSB1bml0KS5cclxuICpcclxuICogLS0tXHJcbiAqXHJcbiAqIFNlZSBbW1RpbWVVbml0RGF0YWJhc2VdXSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aW1lIHVuaXRzLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lVW5pdCBleHRlbmRzIEJhc2VUaW1lVW5pdCB7XHJcblxyXG4gICAgLyoqIEEgY29lZmZpY2llbnQgZGV0ZXJtaW5pbmcgaG93IG1hbnkgbmFub3NlY29uZHMgZml0IGluc2lkZSB0aGlzIHRpbWUgdW5pdC4gKi9cclxuICAgIGZhY3RvcjogbnVtYmVyO1xyXG5cclxuICAgIC8qKiBOYW1lIG9mIHRoZSB0aW1lIHVuaXQgdGhlIHNhbWUgd2F5IGl0J3MgZGVjbGFyZWQgb24gW1tUaW1lVW5pdERhdGFiYXNlXV0gKHVzZWQgaW50ZXJuYWxseSkuICovXHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBkZWZpbml0aW9uIGZvciB0aGUgKip0aW1lIHVuaXRzKiogdXNlZCBieSB0aW1lY291bnQsIHdpdGggaW5mb3JtYXRpb24gdGhhdCB3YXMgYmFzaWNhbGx5IGNvbGxlY3RlZCBmcm9tXHJcbiAqIFtXaWtpcGVkaWFdKGh0dHBzOi8vd2lraXBlZGlhLm9yZykgYW5kIHRoZSByZXN0IG9mIHRoZSB3ZWIuXHJcbiAqXHJcbiAqIFRoaXMgY29sbGVjdGlvbiBpcyBpbnRlbmRlZCB0byBwcm92aWRlIGEgc3VtbWFyeSBhYm91dCB0aGUgZGlzY2xvc2VkIHRpbWUgdW5pdHMsIGVuY29yYWdpbmcgYHRpbWVjb3VudGAgdXNlcnMgdG9cclxuICogZXhwbG9yZSB3aXRoIHRpbWUgY29udmVyc2lvbnMuIEl0IHNob3VsZCBiZSB0YWtlbiBsaWdodGx5IOKAlCAqKmlubmFjdXJlY2llcyBhcmUgZXhwZWN0ZWQqKi5cclxuICpcclxuICogQHR5cGVwYXJhbSBUXHJcbiAqICAgQSBtZW1iZXIgaW5oZXJpdGluZyBmcm9tIFtbQmFzZVVuaXRdXTsgdGhpcyB0eXBlIGlzIHNldCB0byBhbGwgdGltZSB1bml0cy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGltZVVuaXREYXRhYmFzZTxUIGV4dGVuZHMgQmFzZVRpbWVVbml0ID0gQmFzZVRpbWVVbml0PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgX01vb24ncyBvcmJpdF8gYXBwcm94aW1hdGVzIGFuIGVsbGlwc2UgcmF0aGVyIHRoYW4gYSBjaXJjbGUuIEhvd2V2ZXIsIHRoZSBvcmllbnRhdGlvbiAoYXMgd2VsbCBhcyB0aGUgc2hhcGUpXHJcbiAgICAgKiBvZiB0aGlzIG9yYml0IGlzIG5vdCBmaXhlZC4gSW4gcGFydGljdWxhciwgdGhlIHBvc2l0aW9uIG9mIHRoZSBleHRyZW1lIHBvaW50cyAodGhlIGxpbmUgb2YgdGhlIF9hcHNpZGVzOiBwZXJpZ2VlX1xyXG4gICAgICogYW5kIF9hcG9nZWVfKSwgcm90YXRlcyBvbmNlIChfYXBzaWRhbCBwcmVjZXNzaW9uXykgaW4gYWJvdXQgMywyMzMgZGF5cyAoOC44NSB5ZWFycykuIEl0IHRha2VzIHRoZSBNb29uIGxvbmdlciB0b1xyXG4gICAgICogcmV0dXJuIHRvIHRoZSBzYW1lIGFwc2lzIGJlY2F1c2UgaXQgaGFzIG1vdmVkIGFoZWFkIGR1cmluZyBvbmUgcmV2b2x1dGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGxvbmdlciBwZXJpb2QgaXMgY2FsbGVkIHRoZSAqKmFub21hbGlzdGljIG1vbnRoKiogYW5kIGhhcyBhbiBhdmVyYWdlIGxlbmd0aCBvZlxyXG4gICAgICogYDI3IGRheXMsIDEzIGhvdXJzLCAxOCBtaW51dGVzLCAzMy4yIHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBhbm9tYWxpc3RjTW9udGg6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKiphbm9tYWxpc3RpYyB5ZWFyKiogaXMgdGhlIHRpbWUgdGFrZW4gZm9yIHRoZSBFYXJ0aCB0byBjb21wbGV0ZSBvbmUgcmV2b2x1dGlvbiB3aXRoIHJlc3BlY3QgdG8gaXRzIGFwc2lkZXMuXHJcbiAgICAgKiBJdCBpcyB1c3VhbGx5IGRlZmluZWQgYXMgdGhlIHRpbWUgYmV0d2VlbiBfcGVyaWhlbGlvbl8gcGFzc2FnZXMuIEl0cyBhdmVyYWdlIGR1cmF0aW9uIGlzXHJcbiAgICAgKiBgMzY1IGRheXMsIDYgaG91cnMsIDEzIG1pbnV0ZXMsIDUyLjYgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGFub21hbGlzdGNZZWFyOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW4gKiphdHRvc2Vjb25kKiogaXMgMcOXMTDigbvCueKBuCBvZiBhIHNlY29uZCAoYDAuMDAwMDAwMDAwMDAwMDAwMDAxIHNlY29uZGApLiBGb3IgY29udGV4dCwgYW4gYXR0b3NlY29uZCBpcyB0byBhXHJcbiAgICAgKiBzZWNvbmQgd2hhdCBhIHNlY29uZCBpcyB0byBhYm91dCAzMS43MSBiaWxsaW9uIHllYXJzLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBhdHRvc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKmJpZW5uaXVtKiogKHBsdXJhbCBfYmllbm5pYV8pIGlzIGEgcGVyaW9kIG9mIGAyIHllYXJzYC4gVGhlIHdvcmQgaXMgYm9ycm93ZWQgZnJvbSB0aGUgTGF0aW4gX2JpZW5uaXVtXywgZnJvbVxyXG4gICAgICogX2JpLV8gKG9jY3VyaW5nIHR3aWNlKSArIF9hbm51c18gKHllYXIpLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBiaWVubml1bTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgY2VudHVyeSBpcyBhIHBlcmlvZCBvZiBgMTAwIHllYXJzYC4gQ2VudHVyaWVzIGFyZSBudW1iZXJlZCBvcmRpbmFsbHkgaW4gRW5nbGlzaCBhbmQgbWFueSBvdGhlciBsYW5ndWFnZXMuXHJcbiAgICAgKiBBY2NvcmRpbmcgdG8gdGhlIF9zdHJpY3QgY29uc3RydWN0aW9uXyBvZiB0aGUgR3JlZ29yaWFuIGNhbGVuZGFyLCB0aGUgMXN0IGNlbnR1cnkgYmVnYW4gd2l0aCAxIEFEIGFuZCBlbmRlZCB3aXRoXHJcbiAgICAgKiAxMDAgQUQsIHdpdGggdGhlIHNhbWUgcGF0dGVybiBjb250aW51aW5nIG9ud2FyZC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgY2VudHVyeTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKipkYXkqKiwgYSB1bml0IG9mIHRpbWUsIGlzIGFwcHJveGltYXRlbHkgdGhlIHBlcmlvZCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGUgRWFydGggY29tcGxldGVzIG9uZSByb3RhdGlvbiB3aXRoXHJcbiAgICAgKiByZXNwZWN0IHRvIHRoZSBTdW4gKF9zb2xhciBkYXlfKS4gSXQgaXMgY29tbW9ubHkgZGVzaWduYXRlZCBhcyBhIHBlcmlvZCBvZiBgMjQgaG91cnNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBkYXk6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqZGVjYWRlKiogaXMgYSBwZXJpb2Qgb2YgYDEwIHllYXJzYC4gVGhlIHdvcmQgaXMgZGVyaXZlZCBmcm9tIHRoZSBBbmNpZW50IEdyZWVrOiDOtM61zrrOrM+CIChkZWthcyksIHdoaWNoIG1lYW5zIGFcclxuICAgICAqIF9ncm91cCBvZiB0ZW5fLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBkZWNhZGU6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqZHJhY29uaWMgbW9udGgqKiBpcyBhbHNvIGtub3duIGFzIGEgbm9kaWNhbCBtb250aC4gSXQgaXMgdGhlIGF2ZXJhZ2UgaW50ZXJ2YWwgYmV0d2VlbiB0d28gc3VjY2Vzc2l2ZSB0cmFuc2l0c1xyXG4gICAgICogb2YgdGhlIE1vb24gdGhyb3VnaCB0aGUgc2FtZSBfbm9kZV8uIEJlY2F1c2Ugb2YgdGhlIF90b3JxdWVfIGV4ZXJ0ZWQgYnkgdGhlIFN1bidzIGdyYXZpdHkgb24gdGhlIF9hbmd1bGFyXHJcbiAgICAgKiBtb21lbnR1bV8gb2YgdGhlIEVhcnRo4oCTTW9vbiBzeXN0ZW0sIHRoZSBwbGFuZSBvZiB0aGUgTW9vbidzIG9yYml0IF9ncmFkdWFsbHkgcm90YXRlc18gd2VzdHdhcmQsIHdoaWNoIG1lYW5zIHRoZVxyXG4gICAgICogbm9kZXMgZ3JhZHVhbGx5IHJvdGF0ZSBhcm91bmQgRWFydGguIEFzIGEgcmVzdWx0LCB0aGUgdGltZSBpdCB0YWtlcyB0aGUgTW9vbiB0byByZXR1cm4gdG8gdGhlIHNhbWUgbm9kZSBpc1xyXG4gICAgICogc2hvcnRlciB0aGFuIGEgc2lkZXJlYWwgbW9udGgsIGxhc3RpbmcgYDI3IGRheXMsIDUgaG91cnMsIDUgbWludXRlcywgMzUuOCBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgZHJhY29uaWNNb250aDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKmRyYWNvbmljIHllYXIqKiwgZWNsaXBzZSB5ZWFyLCBvciBlY2xpcHRpYyB5ZWFyIGlzIHRoZSB0aW1lIHRha2VuIGZvciB0aGUgU3VuIChhcyBzZWVuIGZyb20gdGhlIEVhcnRoKSB0b1xyXG4gICAgICogY29tcGxldGUgb25lIHJldm9sdXRpb24gd2l0aCByZXNwZWN0IHRvIHRoZSBzYW1lIF9sdW5hciBub2RlXy4gVGhlIGF2ZXJhZ2UgZHVyYXRpb24gb2YgdGhlIGVjbGlwc2UgeWVhciBpc1xyXG4gICAgICogYDM0NiBkYXlzLCAxNCBob3VycywgNTIgbWludXRlcywgNTQgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGRyYWNvbmljWWVhcjogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKmV4YXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXggZXhhXHJcbiAgICAgKiBtZWFucyAxMMK54oG4IHRoZXJlZm9yZSwgMSBleGFzZWNvbmQgaXMgYDEwMDAwMDAwMDAwMDAwMDAwMDAgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGV4YXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKmV4YmlzZWNvbmQqKiBpcyBhIG11bHRpcGxlIG9mIHRoZSB1bml0IF9zZWNvbmRfIGZvciBxdWFudGl0aWVzIG9mIGRpZ2l0YWwgaW5mb3JtYXRpb24uIFRoZSBiaW5hcnkgcHJlZml4XHJcbiAgICAgKiBleGJpIG1lYW5zIDLigbbigbAgdGhlcmVmb3JlLCAxIGV4YmlzZWNvbmQgaXMgYDExNTI5MjE1MDQ2MDY4NDY5NzYgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGV4YmlzZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqZmVtdG9zZWNvbmQqKiBpcyB0aGUgU0kgdW5pdCBvZiB0aW1lIGVxdWFsIHRvIDEw4oG7wrnigbUgb2YgYSBzZWNvbmQgb3IgYDAuMDAwMDAwMDAwMDAwMDAxIHNlY29uZGAuIEZvciBjb250ZXh0LCBhXHJcbiAgICAgKiBmZW10b3NlY29uZCBpcyB0byBhIHNlY29uZCBhcyBhIHNlY29uZCBpcyB0byBhYm91dCAzMS43MSBtaWxsaW9uIHllYXJzLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBmZW10b3NlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgZm9ydG5pZ2h0IGlzIGEgdW5pdCBvZiB0aW1lIGVxdWFsIHRvIGAxNCBkYXlzYCAoMiB3ZWVrcykuIFRoZSB3b3JkIGRlcml2ZXMgZnJvbSB0aGUgT2xkIEVuZ2xpc2g6IF9mxJNvd2VydHluZVxyXG4gICAgICogbmlodF8sIG1lYW5pbmcgXCJmb3VydGVlbiBuaWdodHNcIi5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgZm9ydG5pZ2h0OiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqZ2FsYWN0aWMgeWVhcioqLCBhbHNvIGtub3duIGFzIGEgY29zbWljIHllYXIsIGlzIHRoZSBkdXJhdGlvbiBvZiB0aW1lIHJlcXVpcmVkIGZvciB0aGUgU3VuIHRvIG9yYml0IG9uY2VcclxuICAgICAqIGFyb3VuZCB0aGUgY2VudGVyIG9mIHRoZSBNaWxreSBXYXkgR2FsYXh5LiBFc3RpbWF0ZXMgb2YgdGhlIGxlbmd0aCBvZiBvbmUgb3JiaXQgcmFuZ2UgZnJvbSAyMjUgdG8gMjUwIG1pbGxpb25cclxuICAgICAqIHRlcnJlc3RyaWFsIHllYXJzLCBhdmVyYWdpbmcgYDIzNyw1IG1pbGxpb24geWVhcnNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBnYWxhY3RpY1llYXI6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKipnaWJpc2Vjb25kKiogaXMgYSBtdWx0aXBsZSBvZiB0aGUgdW5pdCBfc2Vjb25kXyBmb3IgcXVhbnRpdGllcyBvZiBkaWdpdGFsIGluZm9ybWF0aW9uLiBUaGUgYmluYXJ5IHByZWZpeFxyXG4gICAgICogZ2liaSBtZWFucyAywrPigbAgdGhlcmVmb3JlLCAxIGdpYmlzZWNvbmQgaXMgYDEwNzM3NDE4MjQgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGdpYmlzZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKipnaWdhc2Vjb25kKiogaXMgYSBtdWx0aXBsZSBvZiB0aGUgdW5pdCBfc2Vjb25kXyBmb3IgcXVhbnRpdGllcyBvZiBkaWdpdGFsIGluZm9ybWF0aW9uLiBUaGUgYmluYXJ5IHByZWZpeFxyXG4gICAgICogZ2lnYSBtZWFucyAxMOKBuSB0aGVyZWZvcmUsIDEgZ2lnYXNlY29uZCBpcyBgMTAwMDAwMDAwMCBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgZ2lnYXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuICoqaG91cioqIGlzIGEgdW5pdCBvZiB0aW1lIGNvbnZlbnRpb25hbGx5IHJlY2tvbmVkIGFzIDHigYQyNCBvZiBhIGRheSBhbmQgc2NpZW50aWZpY2FsbHkgcmVja29uZWQgYXMgMzU5OeKAkzM2MDFcclxuICAgICAqIHNlY29uZHMsIGRlcGVuZGluZyBvbiBjb25kaXRpb25zLiBGb3IgcHJhY3RpY2FsIHB1cnBvc2VzLCBhbiBob3VyIGlzIGAzNjAwIHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBob3VyOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKmppZmZ5KiogaXMgdGhlIGFtb3VudCBvZiB0aW1lIGxpZ2h0IHRha2VzIHRvIHRyYXZlbCBvbmUgX2Zlcm1pXyAoYWJvdXQgdGhlIHNpemUgb2YgYSBfbnVjbGVvbl8pIGluIGEgdmFjdXVtLFxyXG4gICAgICogYW5kIGlzIGVxdWl2YWxlbnQgdG8gYDAuMDAwMDAxIGF0dG9zZWNvbmRgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBqaWZmeTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluIGFzdHJvbm9teSwgYSAqKkp1bGlhbiB5ZWFyKiogaXMgYSB1bml0IG9mIG1lYXN1cmVtZW50IG9mIHRpbWUgZGVmaW5lZCBhcyBleGFjdGx5IGAzNjUuMjUgZGF5c2Agb2ZcclxuICAgICAqIGA4NjQwMCBzZWNvbmRzYCBlYWNoLiBUaGUgX0p1bGlhbiBjYWxlbmRhcl8gd2hpY2ggaGFzIHN0YXJ0ZWQgb24gZGlmZmVyZW50IGRheXMsIGF0IGRpZmZlcmVudCB0aW1lcywgaW4gZGlmZmVyZW50XHJcbiAgICAgKiBjb3VudHJpZXMgaXMgZXF1YWwgdG8gZWl0aGVyIDM2NSBvciAzNjYgZGF5cy5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkganVsaWFuWWVhcjogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKmtpYmlzZWNvbmQqKiBpcyBhIG11bHRpcGxlIG9mIHRoZSB1bml0IF9zZWNvbmRfIGZvciBxdWFudGl0aWVzIG9mIGRpZ2l0YWwgaW5mb3JtYXRpb24uIFRoZSBiaW5hcnkgcHJlZml4XHJcbiAgICAgKiBraWJpIG1lYW5zIDLCueKBsCB0aGVyZWZvcmUsIDEga2liaXNlY29uZCBpcyBgMTAyNCBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkga2liaXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKmtpbG9zZWNvbmQqKiBpcyBhIG11bHRpcGxlIG9mIHRoZSB1bml0IF9zZWNvbmRfIGZvciBxdWFudGl0aWVzIG9mIGRpZ2l0YWwgaW5mb3JtYXRpb24uIFRoZSBiaW5hcnkgcHJlZml4XHJcbiAgICAgKiBraWxvIG1lYW5zIDEwwrMgdGhlcmVmb3JlLCAxIGtpbG9zZWNvbmQgaXMgYDEwMDAgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGtpbG9zZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqbGVhcCB5ZWFyKiogKGFsc28ga25vd24gYXMgYW4gaW50ZXJjYWxhcnkgeWVhciBvciBiaXNzZXh0aWxlIHllYXIpIGlzIGEgY2FsZW5kYXIgeWVhciBjb250YWluaW5nIG9uZVxyXG4gICAgICogYWRkaXRpb25hbCBkYXkgYWRkZWQgdG8ga2VlcCB0aGUgY2FsZW5kYXIgeWVhciBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgX2FzdHJvbm9taWNhbF8gb3IgX3NlYXNvbmFsIHllYXJfLlxyXG4gICAgICogRWFjaCBsZWFwIHllYXIgaGFzIGAzNjYgZGF5c2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGxlYXBZZWFyOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKm5vbi1sZWFwIHllYXIqKiBvY2N1cnMgdGhyZWUgb2YgZWFjaCBmb3VyIHllYXJzLCB0aGUgcmVtYWluaW5nIG9uZSBiZWluZyBhIFtsZWFwIHllYXJdKCNsZWFwWWVhcikuIEVhY2hcclxuICAgICAqIG5vbi1sZWFwIHllYXIgaGFzIGAzNjUgZGF5c2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG5vbkxlYXBZZWFyOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKmx1c3RydW0qKiAocGx1cmFsIF9sdXN0cmFfKSB3YXMgYSB0ZXJtIGZvciBhIGZpdmUteWVhciBwZXJpb2QgaW4gQW5jaWVudCBSb21lOyB0aGVyZWZvcmUgb25lIGx1c3RydW0gZXF1YWxzXHJcbiAgICAgKiB0byBgNSB5ZWFyc2AsIG9yIGEgW1txdWlucXVlbm5pdW1dXS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgX2x1c3RyYXRpb25fIHdhcyBvcmlnaW5hbGx5IGEgc2FjcmlmaWNlIGZvciBleHBpYXRpb24gYW5kIHB1cmlmaWNhdGlvbiBvZmZlcmVkIGJ5IG9uZSBvZiB0aGUgY2Vuc29ycyBpbiB0aGVcclxuICAgICAqIG5hbWUgb2YgdGhlIFJvbWFuIHBlb3BsZSBhdCB0aGUgY2xvc2Ugb2YgdGhlIHRha2luZyBvZiB0aGUgY2Vuc3VzLiBUaGUgc2FjcmlmaWNlIHdhcyBvZnRlbiBpbiB0aGUgZm9ybSBvZiBhblxyXG4gICAgICogYW5pbWFsIHNhY3JpZmljZSwga25vd24gYXMgYSBfc3VvdmV0YXVyaWxpYV8uXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IGx1c3RydW06IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKiptZWJpc2Vjb25kKiogaXMgYSBtdWx0aXBsZSBvZiB0aGUgdW5pdCBfc2Vjb25kXyBmb3IgcXVhbnRpdGllcyBvZiBkaWdpdGFsIGluZm9ybWF0aW9uLiBUaGUgYmluYXJ5IHByZWZpeFxyXG4gICAgICogbWViaSBtZWFucyAywrLigbAgdGhlcmVmb3JlLCAxIG1lYmlzZWNvbmQgaXMgYDEwNDg1NzYgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG1lYmlzZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKiptZWdhc2Vjb25kKiogaXMgYSBtdWx0aXBsZSBvZiB0aGUgdW5pdCBfc2Vjb25kXyBmb3IgcXVhbnRpdGllcyBvZiBkaWdpdGFsIGluZm9ybWF0aW9uLiBUaGUgYmluYXJ5IHByZWZpeFxyXG4gICAgICogbWVnYSBtZWFucyAxMOKBtiB0aGVyZWZvcmUsIDEgbWVnYXNlY29uZCBpcyBgMTAwMDAwMCBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgbWVnYXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKiptaWNyb3NlY29uZCoqIGlzIGFuIFNJIHVuaXQgb2YgdGltZSBlcXVhbCB0byBgMC4wMDAwMDEgc2Vjb25kYCBvciBgMTAwMCBuYW5vc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG1pY3Jvc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKm1pbGlzZWNvbmQqKiBpcyBhbiBTSSB1bml0IG9mIHRpbWUgZXF1YWwgdG8gYDAuMDAxIHNlY29uZGAgb3IgYDEwMDAwMDAgbmFub3NlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBtaWxpc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKm1pbGxlbm5pdW0qKiAocGx1cmFsIF9taWxsZW5uaWFfKSBpcyBhIHBlcmlvZCBlcXVhbCB0byBgMTAwMCB5ZWFyc2AsIGFsc28gY2FsbGVkIGtpbG95ZWFycy4gU29tZXRpbWVzLCBpdCBpc1xyXG4gICAgICogdXNlZCBzcGVjaWZpY2FsbHkgZm9yIHBlcmlvZHMgb2YgYSB0aG91c2FuZCB5ZWFycyB0aGF0IGJlZ2luIGF0IHRoZSBzdGFydGluZyBwb2ludCAoaW5pdGlhbCByZWZlcmVuY2UgcG9pbnQpIG9mXHJcbiAgICAgKiB0aGUgY2FsZW5kYXIgaW4gY29uc2lkZXJhdGlvbiAodHlwaWNhbGx5IHRoZSB5ZWFyIFwiMVwiKSwgb3IgaW4gbGF0ZXIgeWVhcnMgdGhhdCBhcmUgd2hvbGUgbnVtYmVyIG11bHRpcGxlcyBvZiBhXHJcbiAgICAgKiB0aG91c2FuZCB5ZWFycyBhZnRlciBpdC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgbWlsbGVuaXVtOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBtaW51dGUgaXMgZXF1YWwgdG8gMeKBhDYwICh0aGUgZmlyc3Qgc2V4YWdlc2ltYWwgZnJhY3Rpb24pIG9mIGFuIGhvdXIsIG9yIGA2MCBzZWNvbmRzYC4gSW4gdGhlIFVUQyB0aW1lIHN0YW5kYXJkLFxyXG4gICAgICogYSBtaW51dGUgb24gcmFyZSBvY2Nhc2lvbnMgaGFzIDYxIHNlY29uZHMsIGEgY29uc2VxdWVuY2Ugb2YgX2xlYXAgc2Vjb25kc18uXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG1pbnV0ZTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKiptb250aCoqIGlzIGEgdW5pdCBvZiB0aW1lLCB1c2VkIHdpdGggY2FsZW5kYXJzLCB3aGljaCBpcyBhcHByb3hpbWF0ZWx5IGFzIGxvbmcgYXMgYSBuYXR1cmFsIHBlcmlvZCByZWxhdGVkIHRvXHJcbiAgICAgKiB0aGUgbW90aW9uIG9mIHRoZSBNb29uLiBJbiBHcmVnb3JpYW4gY2FsZW5kYXJzLCBhIG1vbnRoIGlzIGFwcHJveGltYXRlbHkgYDMwLjQxNjY2NjY2NjY3IGRheXNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBtb250aDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKipuYW5vc2Vjb25kKiogaXMgYW4gU0kgdW5pdCBvZiB0aW1lIGVxdWFsIHRvIDEw4oG74oG5IG9mIGEgc2Vjb25kIG9yIGAwLjAwMDAwMDAwMSBzZWNvbmRgLiBJdCBpcyB0aGUgc3RhbmRhcmQgdW5pdFxyXG4gICAgICogb2YgdGltZSBmb3IgYHRpbWVjb3VudCBvYmplY3RzYC4gVGltZSB1bml0cyBvZiB0aGlzIGdyYW51bGFyaXR5IGFyZSBjb21tb25seSBlbmNvdW50ZXJlZCBpbiB0ZWxlY29tbXVuaWNhdGlvbnMsXHJcbiAgICAgKiBwdWxzZWQgbGFzZXJzLCBhbmQgcmVsYXRlZCBhc3BlY3RzIG9mIGVsZWN0cm9uaWNzLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBuYW5vc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKm5vdmVubml1bSoqIChwbHVyYWwgX25vdmVubmlhXykgaXMgYSBwZXJpb2QgZXF1aXZhbGVudCB0byBgOSB5ZWFyc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG5vdmVubml1bTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuICoqb2N0ZW5uaXVtKiogKHBsdXJhbCBfb2N0ZW5uaWFfKSBpcyBhIHBlcmlvZCBlcXVpdmFsZW50IHRvIGA4IHllYXJzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgb2N0ZW5uaXVtOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqcGVwaXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXhcclxuICAgICAqIHBlcGkgbWVhbnMgMuKBteKBsCB0aGVyZWZvcmUsIDEgcGVwaXNlY29uZCBpcyBgMTEyNTg5OTkwNjg0MjYyNCBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgcGVwaXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKnBldGFzZWNvbmQqKiBpcyBhIG11bHRpcGxlIG9mIHRoZSB1bml0IF9zZWNvbmRfIGZvciBxdWFudGl0aWVzIG9mIGRpZ2l0YWwgaW5mb3JtYXRpb24uIFRoZSBiaW5hcnkgcHJlZml4XHJcbiAgICAgKiBwZXRhIG1lYW5zIDEwwrnigbUgdGhlcmVmb3JlLCAxIHBldGFzZWNvbmQgaXMgYDEwMDAwMDAwMDAwMDAwMDAgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHBldGFzZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqcGljb3NlY29uZCoqIGlzIGFuIFNJIHVuaXQgb2YgdGltZSBlcXVhbCB0byAxMOKBu8K5wrIgb2YgYSBzZWNvbmQgb3IgYDAuMDAwMDAwMDAwMDAxIHNlY29uZGAuICBBIHBpY29zZWNvbmQgaXMgdG9cclxuICAgICAqIG9uZSBzZWNvbmQgYXMgb25lIHNlY29uZCBpcyB0byBhcHByb3hpbWF0ZWx5IDMxLDY4OSB5ZWFycy5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgcGljb3NlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKlBsYW5jayB0aW1lKiogaXMgdGhlIHVuaXQgb2YgdGltZSBpbiB0aGUgc3lzdGVtIG9mIG5hdHVyYWwgdW5pdHMga25vd24gYXMgX1BsYW5jayB1bml0c18uIEEgUGxhbmNrIHVuaXQgaXNcclxuICAgICAqIHRoZSB0aW1lIHJlcXVpcmVkIGZvciBsaWdodCB0byB0cmF2ZWwgaW4gYSB2YWN1dW0gYSBkaXN0YW5jZSBvZiAxIF9QbGFuY2sgbGVuZ3RoXywgd2hpY2ggaXMgYXBwcm94aW1hdGVseVxyXG4gICAgICogYDUuMzkgw5cgMTDigbvigbTigbQgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHBsYW5ja1RpbWU6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqcXVhZHJlbm5pdW0qKiAocGx1cmFsIF9xdWFkcmVubmlhXykgaXMgYSBwZXJpb2Qgb2YgYDQgeWVhcnNgLCBtb3N0IGNvbW1vbmx5IHVzZWQgaW4gcmVmZXJlbmNlIHRvIHRoZVxyXG4gICAgICogZm91ci15ZWFyIHBlcmlvZCBiZXR3ZWVuIGVhY2ggT2x5bXBpYyBHYW1lcy4gSXQgaXMgYWxzbyB1c2VkIGluIHJlZmVyZW5jZSB0byB0aGUgZm91ci15ZWFyIGludGVydmFsIGJldHdlZW5cclxuICAgICAqIF9sZWFwIHllYXJzXy5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgcXVhZHJlbm5pdW06IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqcXVpbmRlY2Vubml1bSoqIChwbHVyYWwgX3F1aW5kZWNlbm5pYV8pIGlzIGEgcGVyaW9kIGVxdWl2YWxlbnQgdG8gYDE1IHllYXJzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgcXVpbmRlY2Vubml1bTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKipxdWlucXVlbm5pdW0qKiAocGx1cmFsIF9xdWlucXVlbm5pYV8pIGlzIGEgcGVyaW9kIGVxdWl2YWxlbnQgdG8gYDUgeWVhcnNgLCBvciBhIFtbbHVzdHJ1bV1dLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBxdWlucXVlbm5pdW06IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKipzZWNvbmQqKiBpcyB0aGUgU0kgYmFzZSB1bml0IG9mIHRpbWUsIGNvbW1vbmx5IHVuZGVyc3Rvb2QgYW5kIGhpc3RvcmljYWxseSBkZWZpbmVkIGFzIMK5L+KCiOKChuKChOKCgOKCgCBvZiBhIGRheSDigJNcclxuICAgICAqIHRoaXMgZmFjdG9yIGRlcml2ZWQgZnJvbSB0aGUgZGl2aXNpb24gb2YgdGhlIGRheSBmaXJzdCBpbnRvIDI0IGhvdXJzLCB0aGVuIHRvIDYwIG1pbnV0ZXMgYW5kIGZpbmFsbHkgdG8gNjBcclxuICAgICAqIHNlY29uZHMgZWFjaC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKnNlcHRlbm5pdW0qKiAocGx1cmFsIF9zZXB0ZW5uaWFfKSBpcyBhIHBlcmlvZCBlcXVpdmFsZW50IHRvIGA3IHllYXJzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgc2VwdGVubml1bTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKipzaGFrZSoqIGlzIGFuIGluZm9ybWFsIHVuaXQgb2YgdGltZSBlcXVhbCB0byBgMTAgbmFub3NlY29uZHNgLiBJdCBoYXMgYXBwbGljYXRpb25zIGluIF9udWNsZWFyIHBoeXNpY3NfLFxyXG4gICAgICogaGVscGluZyB0byBjb252ZW5pZW50bHkgZXhwcmVzcyB0aGUgdGltaW5nIG9mIHZhcmlvdXMgZXZlbnRzIGluIGEgbnVjbGVhciBleHBsb3Npb24uXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHNoYWtlOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogX1NpZGVyZWFsIHRpbWVfIGlzIGEgdGltZWtlZXBpbmcgc3lzdGVtIHRoYXQgYXN0cm9ub21lcnMgdXNlIHRvIGxvY2F0ZSBjZWxlc3RpYWwgb2JqZWN0cy4gSXQgaXMgdGhlIGFuZ2xlLFxyXG4gICAgICogbWVhc3VyZWQgYWxvbmcgdGhlIF9jZWxlc3RpYWwgZXF1YXRvcl8sIGZyb20gdGhlIG9ic2VydmVyJ3MgX21lcmlkaWFuXyB0byB0aGUgZ3JlYXQgY2lyY2xlIHRoYXQgcGFzc2VzIHRocm91Z2hcclxuICAgICAqIHRoZSBfTWFyY2ggZXF1aW5veF8gYW5kIGJvdGggX2NlbGVzdGlhbCBwb2xlc18sIGFuZCBpcyB1c3VhbGx5IGV4cHJlc3NlZCBpbiBob3VycywgbWludXRlcywgYW5kIHNlY29uZHMuXHJcbiAgICAgKlxyXG4gICAgICogVXNpbmcgc2lkZXJlYWwgdGltZSwgaXQgaXMgcG9zc2libGUgdG8gZWFzaWx5IHBvaW50IGEgdGVsZXNjb3BlIHRvIHRoZSBwcm9wZXIgY29vcmRpbmF0ZXMgaW4gdGhlIG5pZ2h0IHNreS4gQVxyXG4gICAgICogKipzaWRlcmVhbCBkYXkqKiBpcyBhcHByb3hpbWF0ZWx5IGAyMyBob3VycywgNTYgbWludXRlcywgNC4wOTA1IHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBzaWRlcmVhbERheTogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIF9TaWRlcmVhbCB0aW1lXyBpcyBhIHRpbWVrZWVwaW5nIHN5c3RlbSB0aGF0IGFzdHJvbm9tZXJzIHVzZSB0byBsb2NhdGUgY2VsZXN0aWFsIG9iamVjdHMuIEl0IGlzIHRoZSBhbmdsZSxcclxuICAgICAqIG1lYXN1cmVkIGFsb25nIHRoZSBfY2VsZXN0aWFsIGVxdWF0b3JfLCBmcm9tIHRoZSBvYnNlcnZlcidzIF9tZXJpZGlhbl8gdG8gdGhlIGdyZWF0IGNpcmNsZSB0aGF0IHBhc3NlcyB0aHJvdWdoXHJcbiAgICAgKiB0aGUgX01hcmNoIGVxdWlub3hfIGFuZCBib3RoIF9jZWxlc3RpYWwgcG9sZXNfLCBhbmQgaXMgdXN1YWxseSBleHByZXNzZWQgaW4gaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIFVzaW5nIHNpZGVyZWFsIHRpbWUsIGl0IGlzIHBvc3NpYmxlIHRvIGVhc2lseSBwb2ludCBhIHRlbGVzY29wZSB0byB0aGUgcHJvcGVyIGNvb3JkaW5hdGVzIGluIHRoZSBuaWdodCBza3kuIEFcclxuICAgICAqICoqc2lkZXJlYWwgaG91cioqIGlzIGFwcHJveGltYXRlbHkgYDU5IG1pbnV0ZXMsIDUwLjE3MDQxNjY2NjcyIHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBzaWRlcmVhbEhvdXI6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBfU2lkZXJlYWwgdGltZV8gaXMgYSB0aW1la2VlcGluZyBzeXN0ZW0gdGhhdCBhc3Ryb25vbWVycyB1c2UgdG8gbG9jYXRlIGNlbGVzdGlhbCBvYmplY3RzLiBJdCBpcyB0aGUgYW5nbGUsXHJcbiAgICAgKiBtZWFzdXJlZCBhbG9uZyB0aGUgX2NlbGVzdGlhbCBlcXVhdG9yXywgZnJvbSB0aGUgb2JzZXJ2ZXIncyBfbWVyaWRpYW5fIHRvIHRoZSBncmVhdCBjaXJjbGUgdGhhdCBwYXNzZXMgdGhyb3VnaFxyXG4gICAgICogdGhlIF9NYXJjaCBlcXVpbm94XyBhbmQgYm90aCBfY2VsZXN0aWFsIHBvbGVzXywgYW5kIGlzIHVzdWFsbHkgZXhwcmVzc2VkIGluIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBVc2luZyBzaWRlcmVhbCB0aW1lLCBpdCBpcyBwb3NzaWJsZSB0byBlYXNpbHkgcG9pbnQgYSB0ZWxlc2NvcGUgdG8gdGhlIHByb3BlciBjb29yZGluYXRlcyBpbiB0aGUgbmlnaHQgc2t5LiBBXHJcbiAgICAgKiAqKnNpZGVyZWFsIG1pbnV0ZSoqIGlzIGFwcHJveGltYXRlbHkgYDU5Ljk4MzYxNzM2MTExMSBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgc2lkZXJlYWxNaW51dGU6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcGVyaW9kIG9mIHRoZSBNb29uJ3Mgb3JiaXQgYXMgZGVmaW5lZCB3aXRoIHJlc3BlY3QgdG8gdGhlIF9jZWxlc3RpYWwgc3BoZXJlXyBvZiBhcHBhcmVudGx5IF9maXhlZCBzdGFyc19cclxuICAgICAqIChub3dhZGF5cyB0aGUgX0ludGVybmF0aW9uYWwgQ2VsZXN0aWFsIFJlZmVyZW5jZSBGcmFtZV8pIGlzIGtub3duIGFzIGEgKipzaWRlcmVhbCBtb250aCoqIGJlY2F1c2UgaXQgaXMgdGhlIHRpbWVcclxuICAgICAqIGl0IHRha2VzIHRoZSBNb29uIHRvIHJldHVybiB0byBhIHNpbWlsYXIgcG9zaXRpb24gYW1vbmcgdGhlIHN0YXJzOiBgMjcgZGF5cywgNyBob3VycywgNDMgbWludXRlcywgMTEuNiBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgc2lkZXJlYWxNb250aDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIF9TaWRlcmVhbCB0aW1lXyBpcyBhIHRpbWVrZWVwaW5nIHN5c3RlbSB0aGF0IGFzdHJvbm9tZXJzIHVzZSB0byBsb2NhdGUgY2VsZXN0aWFsIG9iamVjdHMuIEl0IGlzIHRoZSBhbmdsZSxcclxuICAgICAqIG1lYXN1cmVkIGFsb25nIHRoZSBfY2VsZXN0aWFsIGVxdWF0b3JfLCBmcm9tIHRoZSBvYnNlcnZlcidzIF9tZXJpZGlhbl8gdG8gdGhlIGdyZWF0IGNpcmNsZSB0aGF0IHBhc3NlcyB0aHJvdWdoXHJcbiAgICAgKiB0aGUgX01hcmNoIGVxdWlub3hfIGFuZCBib3RoIF9jZWxlc3RpYWwgcG9sZXNfLCBhbmQgaXMgdXN1YWxseSBleHByZXNzZWQgaW4gaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIFVzaW5nIHNpZGVyZWFsIHRpbWUsIGl0IGlzIHBvc3NpYmxlIHRvIGVhc2lseSBwb2ludCBhIHRlbGVzY29wZSB0byB0aGUgcHJvcGVyIGNvb3JkaW5hdGVzIGluIHRoZSBuaWdodCBza3kuIEFcclxuICAgICAqICoqc2lkZXJlYWwgc2Vjb25kKiogaXMgYXBwcm94aW1hdGVseSBgMC45OTcyNjk1NjAxODUyIHNlY29uZGAuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHNpZGVyZWFsU2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKnNpZGVyZWFsIHllYXIqKiBpcyB0aGUgdGltZSB0YWtlbiBieSB0aGUgRWFydGggdG8gb3JiaXQgdGhlIFN1biBvbmNlIHdpdGggcmVzcGVjdCB0byB0aGUgX2ZpeGVkIHN0YXJzXy4gSGVuY2VcclxuICAgICAqIGl0IGlzIGFsc28gdGhlIHRpbWUgdGFrZW4gZm9yIHRoZSBTdW4gdG8gcmV0dXJuIHRvIHRoZSBzYW1lIHBvc2l0aW9uIHdpdGggcmVzcGVjdCB0byB0aGUgZml4ZWQgc3RhcnMgYWZ0ZXJcclxuICAgICAqIGFwcGFyZW50bHkgdHJhdmVsbGluZyBvbmNlIGFyb3VuZCB0aGUgX2VjbGlwdGljXy4gSXQgaXMgYXBwcm94aW1hdGVseVxyXG4gICAgICogYDM2NSBkYXlzLCA2IGhvdXJzLCA5IG1pbnV0ZXMsIDkuNTA0IHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBzaWRlcmVhbFllYXI6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKipTdmVkYmVyZyoqIGlzIGEgdGltZSB1bml0IHVzZWQgZm9yIHNlZGltZW50YXRpb24gcmF0ZXMgKHVzdWFsbHkgb2YgcHJvdGVpbnMpLiBJdCBpcyBkZWZpbmVkIGFzXHJcbiAgICAgKiBgMTAwIGZlbXRvc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHN2ZWRiZXJnOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqc3lub2RpYyBtb250aCoqIGlzIHRoZSBhdmVyYWdlIHBlcmlvZCBvZiB0aGUgTW9vbidzIG9yYml0IHdpdGggcmVzcGVjdCB0byB0aGUgbGluZSBqb2luaW5nIHRoZSBTdW4gYW5kXHJcbiAgICAgKiBFYXJ0aC4gVGhlIGxvbmctdGVybSBhdmVyYWdlIGR1cmF0aW9uIGlzIGAyOSBkYXlzLCAxMiBob3VycywgNDQgbWludXRlcywgMi44MDE2IHNlY29uZHNgLiBUaGUgc3lub2RpYyBtb250aCBpc1xyXG4gICAgICogdXNlZCB0byBjYWxjdWxhdGUgKiplY2xpcHNlIGN5Y2xlcyoqLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBzeW5vZGljTW9udGg6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKip0ZWJpc2Vjb25kKiogaXMgYSBtdWx0aXBsZSBvZiB0aGUgdW5pdCBfc2Vjb25kXyBmb3IgcXVhbnRpdGllcyBvZiBkaWdpdGFsIGluZm9ybWF0aW9uLiBUaGUgYmluYXJ5IHByZWZpeFxyXG4gICAgICogdGViaSBtZWFucyAy4oG04oGwIHRoZXJlZm9yZSwgMSB0ZWJpc2Vjb25kIGlzIGAxMDk5NTExNjI3Nzc2IHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB0ZWJpc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqdGVyYXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXhcclxuICAgICAqIHRlcmEgbWVhbnMgMTDCucKyIHRoZXJlZm9yZSwgMSB0ZXJhc2Vjb25kIGlzIGAxMDAwMDAwMDAwMDAwIHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB0ZXJhc2Vjb25kOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSAqKnRpbWUgdW5pdCoqIChUVSkgaXMgYW4gdW5pdCBvZiB0aW1lIGRlZmluZWQgYXMgYDEwMjQgbWljcm9zZWNvbmRzYC4gVGhlIHVuaXQgYWxsb3dzIGZvciBtYWludGFpbmluZyBpbnRlcnZhbHNcclxuICAgICAqIHRoYXQgYXJlIGVhc3kgdG8gaW1wbGVtZW50IGluIGhhcmR3YXJlIHRoYXQgaGFzIGEgMSBNSHogY2xvY2suIE9uZSB0aW1lIHVuaXQgaXMgZXF1YWwgdG8gb25lIG1pbGxpb250aCBvZiBhXHJcbiAgICAgKiBbW2tpYmlzZWNvbmRdXS5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgdGltZVVuaXQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqdHJvcGljYWwgeWVhcioqIChhbHNvIGtub3duIGFzIGEgc29sYXIgeWVhcikgaXMgdGhlIHRpbWUgdGhhdCB0aGUgU3VuIHRha2VzIHRvIHJldHVybiB0byB0aGUgc2FtZSBwb3NpdGlvbiBpblxyXG4gICAgICogdGhlIF9jeWNsZSBvZiBzZWFzb25zXywgYXMgc2VlbiBmcm9tIEVhcnRoOyBmb3IgZXhhbXBsZSwgdGhlIHRpbWUgZnJvbSB2ZXJuYWwgZXF1aW5veCB0byB2ZXJuYWwgZXF1aW5veCwgb3IgZnJvbVxyXG4gICAgICogX3N1bW1lciBzb2xzdGljZV8gdG8gc3VtbWVyIHNvbHN0aWNlLiBJdCBpcyBhcHByb3hpbWV0YWx5IGAzNjUgZGF5cywgNSBob3VycywgNDggbWludXRlcywgNDMuNDg4IHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB0cm9waWNhbFllYXI6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqd2VlayoqIGlzIGEgdGltZSB1bml0IGVxdWFsIHRvIGA3IGRheXNgLiBJdCBpcyB0aGUgc3RhbmRhcmQgdGltZSBwZXJpb2QgdXNlZCBmb3IgY3ljbGVzIG9mIHJlc3QgZGF5cyBpbiBtb3N0XHJcbiAgICAgKiBwYXJ0cyBvZiB0aGUgd29ybGQsIG1vc3RseSBhbG9uZ3NpZGXigJRhbHRob3VnaCBub3Qgc3RyaWN0bHkgcGFydCBvZuKAlHRoZSBHcmVnb3JpYW4gY2FsZW5kYXIuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHdlZWs6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgdGhlIEdyZWdvcmlhbiBjYWxlbmRhciwgdGhlIGF2ZXJhZ2UgbGVuZ3RoIG9mIHRoZSBjYWxlbmRhciB5ZWFyICh0aGUgbWVhbiB5ZWFyKSBhY3Jvc3MgdGhlIGNvbXBsZXRlIF9sZWFwXHJcbiAgICAgKiBjeWNsZV8gb2YgNDAwIHllYXJzIGlzIGAzNjUgZGF5cywgNSBob3VycywgNDkgbWludXRlcywgMTIgc2Vjb25kc2Agb3IgYDM2NS4yNDI1IGRheXNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB5ZWFyOiBUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqeW9iaXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXhcclxuICAgICAqIHlvYmkgbWVhbnMgMuKBuOKBsCB0aGVyZWZvcmUsIDEgeW9iaXNlY29uZCBpcyBgMTIwODkyNTgxOTYxNDYyOTE3NDcwNjE3NiBzZWNvbmRzYC5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgeW9iaXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgKip5b2N0b3NlY29uZCoqIGlzIGEgdW5pdCBvZiB0aW1lIGVxdWFsIHRvIDEw4oG7wrLigbQgb2YgYSBzZWNvbmQgb3IgYDAuMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxIHNlY29uZGBcclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgeW9jdG9zZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKip5b3R0YXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXhcclxuICAgICAqIHlvdHRhIG1lYW5zIDEwwrLigbQgdGhlcmVmb3JlLCAxIHlvdHRhc2Vjb25kIGlzIGAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIHNlY29uZHNgLlxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB5b3R0YXNlY29uZDogVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAqKnplYmlzZWNvbmQqKiBpcyBhIG11bHRpcGxlIG9mIHRoZSB1bml0IF9zZWNvbmRfIGZvciBxdWFudGl0aWVzIG9mIGRpZ2l0YWwgaW5mb3JtYXRpb24uIFRoZSBiaW5hcnkgcHJlZml4XHJcbiAgICAgKiB6ZWJpIG1lYW5zIDLigbfigbAgdGhlcmVmb3JlLCAxIHplYmlzZWNvbmQgaXMgYDExODA1OTE2MjA3MTc0MTEzMDM0MjQgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHplYmlzZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBICoqemVwdG9zZWNvbmQqKiBpcyBhIHVuaXQgb2YgdGltZSBlcXVhbCB0byAxMOKBu8Kywrkgb2YgYSBzZWNvbmQgb3IgYDAuMDAwMDAwMDAwMDAwMDAwMDAwMDAxIHNlY29uZGBcclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgemVwdG9zZWNvbmQ6IFQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgKip6ZXR0YXNlY29uZCoqIGlzIGEgbXVsdGlwbGUgb2YgdGhlIHVuaXQgX3NlY29uZF8gZm9yIHF1YW50aXRpZXMgb2YgZGlnaXRhbCBpbmZvcm1hdGlvbi4gVGhlIGJpbmFyeSBwcmVmaXhcclxuICAgICAqIHpldHRhIG1lYW5zIDEwwrLCuSB0aGVyZWZvcmUsIDEgemV0dGFzZWNvbmQgaXMgYDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAgc2Vjb25kc2AuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHpldHRhc2Vjb25kOiBUO1xyXG59XHJcblxyXG4vKipcclxuICogQSB1bmlvbiB0eXBlLCB1c2VkIGJ5IHBhcmFtZXRlcnMgdGhhdCBhY2NlcHQgZWl0aGVyIGEgdGltZSB1bml0IG5hbWUgb3IgYSBbW1RpbWVVbml0XV0gb2JqZWN0LlxyXG4gKlxyXG4gKiBUaGUgYWNjZXB0ZWQgbmFtZXMgYXJlIGFsbCB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGJ5IFtbVGltZVVuaXREYXRhYmFzZV1dLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgVGltZVVuaXRQYXJhbWV0ZXIgPSBrZXlvZiBUaW1lVW5pdERhdGFiYXNlIHwgVGltZVVuaXQ7XHJcblxyXG4vKipcclxuICogKipUaW1lIHdyaXRlcnMqKiBhcmUgdXNlZCB0byBzeW50aGVzaXplIHRpbWUgdmFsdWVzIGludG8gc3RyaW5ncy5cclxuICpcclxuICogSW4gb3JkZXIgdG8gbWF4aW1pemUgdXNhYmlsaXR5LCBpbnN0YW5jZXMgb2YgW1tUaW1lV3JpdGVyXV0gaGF2ZSBtdWx0aXBsZSBjb25maWd1cmF0aW9uIHBvaW50cywgd2hpY2gsIGluIG9yZGVyLCBhcmU6XHJcbiAqIC0gRGVmYXVsdHMg4oCUIGhhcmRjb2RlZCBmb3IgRW5nbGlzaCAoVVMpO1xyXG4gKiAtIE9wdGlvbnMgZnJvbSB0aGUgY3VycmVudCBbW0xvY2FsZV1dO1xyXG4gKiAtIE9wdGlvbnMgZnJvbSB0aGUgaW5zdGFuY2UgW1tzZXR0aW5nc11dO1xyXG4gKiAtIE9wdGlvbnMgZ2l2ZW4gYXMgYSBwYXJhbWV0ZXIgdG8gW1t3cml0ZV1dLlxyXG4gKlxyXG4gKiBbW2luY2x1ZGU6ZXhhbXBsZXMvdGltZXdyaXRlci5tZF1dXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGltZVdyaXRlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBfc2V0dGluZ3M6IFRpbWVXcml0ZXJTZXR0aW5ncyA9IHt9O1xyXG4gICAgcHJpdmF0ZSBfdGltZVVuaXRTZXR0aW5nc0NhY2hlOiBCYXNlVGltZVVuaXQgPSB7fTtcclxuICAgIHByaXZhdGUgX3dyaXRlclNldHRpbmdzQ2FjaGU6IFRpbWVXcml0ZXJTZXR0aW5ncyA9IHt9O1xyXG5cclxuICAgIC8qKiBHZXRzIG9yIHNldHMgdGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBbW1RpbWVXcml0ZXJTZXR0aW5nc11dIG9mIHRoaXMgdGltZSB3cml0ZXIuICovXHJcbiAgICBwdWJsaWMgZ2V0IHNldHRpbmdzKCkgeyByZXR1cm4gdGhpcy5fc2V0dGluZ3M7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBbW1RpbWVXcml0ZXJdXSBjbGFzcyBvcHRpb25hbGx5IHVzaW5nIHRoZSBzcGVjaWZpZWQgYHNldHRpbmdzYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2V0dGluZ3NcclxuICAgICAqICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIFtbVGltZVdyaXRlclNldHRpbmdzXV0gdXNlZCB0byBjb25maWd1cmUgdGhlIGJlaGF2aW9yIG9mIHRoaXMgdGltZSB3cml0ZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzZXR0aW5nczogVGltZVdyaXRlclNldHRpbmdzID0ge30pIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3ludGhlc2l6ZXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBgdGltZVZhbHVlYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIHRpbWUgaXMgbWVhc3VyZWQgd2l0aCBgb3JpZ2luVGltZVVuaXRgLCB0aGVuIGNvbnZlcnRlZCBhbmQgd3JpdHRlbiB3aXRoIGB0YXJnZXRUaW1lVW5pdGAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVWYWx1ZVxyXG4gICAgICogICBBIHRpbWUgdmFsdWUgd2hpY2ggd2lsbCBiZSBtZWFzdXJlZCB1c2luZyB0aGUgZ2l2ZW4gdGhlIG9yaWdpbiB0aW1lIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luVGltZVVuaXRcclxuICAgICAqICAgVW5pdCBvZiB0aW1lIHRvIGJlIGRlc2lnbmF0ZWQgdG8gdGhlIHRpbWUgdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0VGltZVVuaXRcclxuICAgICAqICAgVW5pdCBvZiB0aW1lIGluIHdoaWNoIHRoZSB0aW1lIHZhbHVlIHdpbGwgYmUgd3JpdHRlbi5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKiAgIEFuIG9wdGlvbmFsIHNldCBvZiBjb25maWd1cmF0aW9ucyBvdmVyd3JpdGluZyB0aGUgdmFsdWVzIGZyb20gYm90aCB0aGlzIG9iamVjdCBhbmQgdGhlIFtbTG9jYWxlXV0uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB3cml0ZSh0aW1lVmFsdWU6IG51bWJlciwgb3JpZ2luVGltZVVuaXQ/OiBUaW1lVW5pdFBhcmFtZXRlciwgdGFyZ2V0VGltZVVuaXQ/OiBUaW1lVW5pdFBhcmFtZXRlcixcclxuICAgICAgICBvcHRpb25zPzogVGltZVdyaXRlclNldHRpbmdzKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3ludGhlc2l6ZXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBgdGltZVZhbHVlYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIHRpbWUgaXMgbWVhc3VyZWQgYW5kIHdyaXR0ZW4gd2l0aCBgdGltZVVuaXRgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aW1lVmFsdWVcclxuICAgICAqICAgQSB0aW1lIHZhbHVlIHdoaWNoIHdpbGwgYmUgbWVhc3VyZWQgdXNpbmcgdGhlIGdpdmVuIHRoZSB0aW1lIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0gdGltZVVuaXRcclxuICAgICAqICAgVW5pdCBvZiB0aW1lIHRvIGJlIGRlc2lnbmF0ZWQgdG8gYW5kIGluIHdoaWNoIHRoZSB0aW1lIHZhbHVlIHdpbGwgYmUgd3JpdHRlbi5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKiAgIEFuIG9wdGlvbmFsIHNldCBvZiBjb25maWd1cmF0aW9ucyBvdmVyd3JpdGluZyB0aGUgdmFsdWVzIGZyb20gYm90aCB0aGlzIG9iamVjdCBhbmQgdGhlIFtbTG9jYWxlXV0uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB3cml0ZSh0aW1lVmFsdWU6IG51bWJlciwgdGltZVVuaXQ/OiBUaW1lVW5pdFBhcmFtZXRlciwgb3B0aW9ucz86IFRpbWVXcml0ZXJTZXR0aW5ncyk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN5bnRoZXNpemVzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gYHRpbWVWYWx1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyB0aW1lIGlzIG1lYXN1cmVkIGFuZCB3cml0dGVuIHVzaW5nIFtbVGltZVdyaXRlclNldHRpbmdzLmRlZmF1bHRUaW1lVW5pdF1dLCB3aGljaCBieSBpdHNlbGYgZGVmYXVsdHMgdG9cclxuICAgICAqIFwibmFub3NlY29uZHNcIi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGltZVZhbHVlXHJcbiAgICAgKiAgIEEgdGltZSB2YWx1ZSB3aGljaCB3aWxsIGJlIG1lYXN1cmVkIHVzaW5nIGEgZGVmYXVsdCB0aW1lIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xyXG4gICAgICogICBBbiBvcHRpb25hbCBzZXQgb2YgY29uZmlndXJhdGlvbnMgb3ZlcndyaXRpbmcgdGhlIHZhbHVlcyBmcm9tIGJvdGggdGhpcyBvYmplY3QgYW5kIHRoZSBbW0xvY2FsZV1dLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgd3JpdGUodGltZVZhbHVlOiBudW1iZXIsIG9wdGlvbnM/OiBUaW1lV3JpdGVyU2V0dGluZ3MpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTeW50aGVzaXplcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGB0aW1lYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIHRpbWUgaXMgbWVhc3VyZWQgaW4gbmFub3NlY29uZHMsIHRoZW4gY29udmVydGVkIGFuZCB3cml0dGVuIHdpdGggYHRhcmdldFRpbWVVbml0YC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGltZVxyXG4gICAgICogICBBIG5hbm9zZWNvbmQtYmFzZWQgdGltZSBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0VGltZVVuaXRcclxuICAgICAqICAgVW5pdCBvZiB0aW1lIGluIHdoaWNoIHRoZSB0aW1lIHZhbHVlIHdpbGwgYmUgd3JpdHRlbi5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKiAgIEFuIG9wdGlvbmFsIHNldCBvZiBjb25maWd1cmF0aW9ucyBvdmVyd3JpdGluZyB0aGUgdmFsdWVzIGZyb20gYm90aCB0aGlzIG9iamVjdCBhbmQgdGhlIFtbTG9jYWxlXV0uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB3cml0ZSh0aW1lOiBOYW5vc2Vjb25kQmFzZWRUaW1lLCB0YXJnZXRUaW1lVW5pdD86IFRpbWVVbml0UGFyYW1ldGVyLCBvcHRpb25zPzogVGltZVdyaXRlclNldHRpbmdzKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3ludGhlc2l6ZXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBgdGltZWAuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyB0aW1lIGlzIG1lYXN1cmVkIGluIG5hbm9zZWNvbmRzLCB0aGVuIGNvbnZlcnRlZCBhbmQgd3JpdHRlbiBbW1RpbWVXcml0ZXJTZXR0aW5ncy5kZWZhdWx0VGltZVVuaXRdXSwgd2hpY2ggYnlcclxuICAgICAqIGl0c2VsZiBkZWZhdWx0cyB0byBcIm5hbm9zZWNvbmRzXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVcclxuICAgICAqICAgQSBuYW5vc2Vjb25kLWJhc2VkIHRpbWUgb2JqZWN0LlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqICAgQW4gb3B0aW9uYWwgc2V0IG9mIGNvbmZpZ3VyYXRpb25zIG92ZXJ3cml0aW5nIHRoZSB2YWx1ZXMgZnJvbSBib3RoIHRoaXMgb2JqZWN0IGFuZCB0aGUgW1tMb2NhbGVdXS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHdyaXRlKHRpbWU6IE5hbm9zZWNvbmRCYXNlZFRpbWUsIG9wdGlvbnM/OiBUaW1lV3JpdGVyU2V0dGluZ3MpOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uIG9mIHdyaXRlXHJcbiAgICBwdWJsaWMgd3JpdGUodGltZTogbnVtYmVyIHwgTmFub3NlY29uZEJhc2VkVGltZSwgb3JpZ2luVGltZVVuaXQ/OiBUaW1lVW5pdFBhcmFtZXRlciB8IFRpbWVXcml0ZXJTZXR0aW5ncyxcclxuICAgICAgICB0YXJnZXRUaW1lVW5pdD86IFRpbWVVbml0UGFyYW1ldGVyIHwgVGltZVdyaXRlclNldHRpbmdzLCBvcHRpb25zPzogVGltZVdyaXRlclNldHRpbmdzKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzT3B0aW9ucyA9IChwYXJhbWV0ZXI/OiBUaW1lVW5pdFBhcmFtZXRlciB8IFRpbWVXcml0ZXJTZXR0aW5ncykgPT5cclxuICAgICAgICAgICAgdHlwZW9mKHBhcmFtZXRlcikgIT09IFwic3RyaW5nXCIgJiYgKCEhcGFyYW1ldGVyICYmICFwYXJhbWV0ZXIuaGFzT3duUHJvcGVydHkoXCJmYWN0b3JcIikpO1xyXG5cclxuICAgICAgICBpZiAoaXNPcHRpb25zKHRhcmdldFRpbWVVbml0KSkge1xyXG4gICAgICAgICAgICBvcHRpb25zID0gdGFyZ2V0VGltZVVuaXQgYXMgVGltZVdyaXRlclNldHRpbmdzO1xyXG4gICAgICAgICAgICB0YXJnZXRUaW1lVW5pdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzT3B0aW9ucyhvcmlnaW5UaW1lVW5pdCkpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IG9yaWdpblRpbWVVbml0IGFzIFRpbWVXcml0ZXJTZXR0aW5ncztcclxuICAgICAgICAgICAgb3JpZ2luVGltZVVuaXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICB0aGlzLl93cml0ZXJTZXR0aW5nc0NhY2hlID0gdGhpcy5fY3JlYXRlV3JpdGVyU2V0dGluZ3NDYWNoZShvcHRpb25zKTtcclxuICAgICAgICBjb25zdCB3cml0ZXJTZXR0aW5ncyA9IHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGU7XHJcblxyXG4gICAgICAgIG9yaWdpblRpbWVVbml0ID0gKG9yaWdpblRpbWVVbml0IGFzIFRpbWVVbml0UGFyYW1ldGVyKSB8fCAod3JpdGVyU2V0dGluZ3MuZGVmYXVsdFRpbWVVbml0IGFzIFRpbWVVbml0UGFyYW1ldGVyKTtcclxuICAgICAgICB0YXJnZXRUaW1lVW5pdCA9ICh0YXJnZXRUaW1lVW5pdCBhcyBUaW1lVW5pdFBhcmFtZXRlcikgfHwgb3JpZ2luVGltZVVuaXQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YodGltZSkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdGltZSA9IFRpbWUuZnJvbSh0aW1lLCBvcmlnaW5UaW1lVW5pdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISh0aW1lIGluc3RhbmNlb2YgVGltZSkpIHtcclxuICAgICAgICAgICAgdGltZSA9IG5ldyBUaW1lKHRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZih0YXJnZXRUaW1lVW5pdCkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdGFyZ2V0VGltZVVuaXQgPSB0aW1lVW5pdHNbdGFyZ2V0VGltZVVuaXRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdGltZVVuaXRTZXR0aW5nc0NhY2hlID0gdGhpcy5fY3JlYXRlVGltZVVuaXRTZXR0aW5nc0NhY2hlKHRhcmdldFRpbWVVbml0KTtcclxuICAgICAgICBsZXQgdGFyZ2V0VmFsdWUgPSAodGltZSBhcyBUaW1lKS50byh0YXJnZXRUaW1lVW5pdCk7XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4odGFyZ2V0VmFsdWUpICYmIHRhcmdldFZhbHVlICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IEJpZyh0YXJnZXRWYWx1ZSkudG9GaXhlZCgpLnNwbGl0KGdldExvY2FsRGVjaW1hbFNlcGFyYXRvcigpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB0ZXN0IGZvciByZWR1bmRhbmN5IGVycm9ycywgY2F1c2VkIGJ5IGluYWNjdXJhY2llcyBvZiBmbG9hdGluZyBwb2ludHNcclxuICAgICAgICAgICAgaWYgKHBhcnRzWzFdICYmIHBhcnRzWzFdLmxlbmd0aCA+PSByZWR1bmRhbmN5Q2hlY2tUaHJlc2hvbGQgJiYgIS9bXjldLy50ZXN0KHBhcnRzWzFdKSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSBNYXRoLnJvdW5kKHRhcmdldFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgd3JpdHRlbk51bWJlciA9IHRoaXMuX3dyaXRlTnVtYmVyKHRhcmdldFZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKHdyaXRlclNldHRpbmdzLmhpZGVUaW1lVW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd3JpdHRlbk51bWJlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRpbWVVbml0TmFtZSA9IHRoaXMuX3dyaXRlVGltZVVuaXQodGFyZ2V0VmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSB3cml0ZXJTZXR0aW5ncy5zcGFjZVRpbWVVbml0ID8gXCIgXCIgOiBcIlwiO1xyXG5cclxuICAgICAgICByZXR1cm4gYCR7d3JpdHRlbk51bWJlcn0ke3NwYWNpbmd9JHt0aW1lVW5pdE5hbWV9YDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaW5jZSB0aGVyZSBhcmUgbXVsdGlwbGUgbWV0aG9kcyB0aGF0IGFjY2VzcyB0aGUgZnVsbHktb3ZlcndyaXR0ZW4gc2V0dGluZ3MsIHdlIGNyZWF0ZSBhIGNhY2hlIGZvciB0aGVtXHJcbiAgICAvLyBUaGlzIGNhY2hlIGlzIG9ubHkgcGVydGluZW50IGR1cmluZyBgd3JpdGVgXHJcblxyXG4gICAgLy8gVGhlIGZpcnN0IGNhY2hlIGlzIGZvciB0aGUgdGltZSB1bml0OiAxKSBsYW5ndWFnZSwgMikgbGFuZ3VhZ2VEZWZhdWx0LCAzKSBoYXJkY29kZWRcclxuICAgIHByaXZhdGUgX2NyZWF0ZVRpbWVVbml0U2V0dGluZ3NDYWNoZSh0aW1lVW5pdDogVGltZVVuaXQpOiBCYXNlVGltZVVuaXQge1xyXG5cclxuICAgICAgICBjb25zdCBsb2NhbGVUaW1lVW5pdHMgPSAobG9jYWxpemF0aW9uLkxvY2FsZS5zZXR0aW5ncy50aW1lVW5pdHMgfHwge30pIGFzIGFueTtcclxuICAgICAgICBjb25zdCBsYW5ndWFnZTogQmFzZVRpbWVVbml0ID0gbG9jYWxlVGltZVVuaXRzW3RpbWVVbml0Lm5hbWVdIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGxhbmd1YWdlRGVmYXVsdCA9IGxvY2FsaXphdGlvbi5Mb2NhbGUuc2V0dGluZ3MuZGVmYXVsdE9wdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aW1lVW5pdC5uYW1lLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDEgJDJcIikudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoXHJcbiAgICAgICAgICAgIGN1c3RvbVBsdXJhbDogb25lT3JOb25lT2YobGFuZ3VhZ2UuY3VzdG9tUGx1cmFsLCBsYW5ndWFnZURlZmF1bHQuY3VzdG9tUGx1cmFsIHx8IChudWxsIGFzIGFueSksIHRpbWVVbml0LmN1c3RvbVBsdXJhbCksXHJcbiAgICAgICAgICAgIHBsdXJhbGl6ZTogb25lT2YobGFuZ3VhZ2UucGx1cmFsaXplLCBsYW5ndWFnZURlZmF1bHQucGx1cmFsaXplLCB0aW1lVW5pdC5wbHVyYWxpemUsIHRydWUpLFxyXG4gICAgICAgICAgICByZWFkYWJsZU5hbWU6IG9uZU9mKGxhbmd1YWdlLnJlYWRhYmxlTmFtZSwgbGFuZ3VhZ2VEZWZhdWx0LnJlYWRhYmxlTmFtZSwgdGltZVVuaXQucmVhZGFibGVOYW1lLCBuYW1lKSxcclxuICAgICAgICAgICAgc3ltYm9sOiBvbmVPck5vbmVPZihsYW5ndWFnZS5zeW1ib2wsIGxhbmd1YWdlRGVmYXVsdC5zeW1ib2wsIHRpbWVVbml0LnN5bWJvbCksXHJcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGUgc2Vjb25kIGlzIGZvciB0aGUgd3JpdGVyIGl0c2VsZjogMSkgbWV0aG9kLCAyKSBpbnN0YW5jZSwgMykgbGFuZ3VhZ2UsIDMpIGRlZmF1bHRzXHJcbiAgICBwcml2YXRlIF9jcmVhdGVXcml0ZXJTZXR0aW5nc0NhY2hlKG1ldGhvZFNldHRpbmdzPzogVGltZVdyaXRlclNldHRpbmdzKTogVGltZVdyaXRlclNldHRpbmdzIHtcclxuXHJcbiAgICAgICAgbWV0aG9kU2V0dGluZ3MgPSBtZXRob2RTZXR0aW5ncyB8fCB7fTtcclxuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IGxvY2FsaXphdGlvbi5Mb2NhbGUuc2V0dGluZ3Mud3JpdGVyT3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgdGVybXMxID0gbWV0aG9kU2V0dGluZ3MudGVybXMgfHwge307XHJcbiAgICAgICAgY29uc3QgdGVybXMyID0gdGhpcy5fc2V0dGluZ3MudGVybXMgfHwge307XHJcbiAgICAgICAgY29uc3QgdGVybXMzID0gbGFuZ3VhZ2UudGVybXMgfHwge307XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aFxyXG4gICAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiBvbmVPZihtZXRob2RTZXR0aW5ncy5kZWNpbWFsU2VwYXJhdG9yLCB0aGlzLl9zZXR0aW5ncy5kZWNpbWFsU2VwYXJhdG9yLCBsYW5ndWFnZS5kZWNpbWFsU2VwYXJhdG9yLCBcIi5cIiksXHJcbiAgICAgICAgICAgIGRlZmF1bHRUaW1lVW5pdDogb25lT2YobWV0aG9kU2V0dGluZ3MuZGVmYXVsdFRpbWVVbml0LCB0aGlzLl9zZXR0aW5ncy5kZWZhdWx0VGltZVVuaXQsIGxhbmd1YWdlLmRlZmF1bHRUaW1lVW5pdCwgXCJuYW5vc2Vjb25kXCIpLFxyXG4gICAgICAgICAgICBmcmFjdGlvbkRpZ2l0czogb25lT3JOb25lT2YobWV0aG9kU2V0dGluZ3MuZnJhY3Rpb25EaWdpdHMsIHRoaXMuX3NldHRpbmdzLmZyYWN0aW9uRGlnaXRzLCBsYW5ndWFnZS5mcmFjdGlvbkRpZ2l0cyksXHJcbiAgICAgICAgICAgIGhpZGVUaW1lVW5pdDogb25lT2YobWV0aG9kU2V0dGluZ3MuaGlkZVRpbWVVbml0LCB0aGlzLl9zZXR0aW5ncy5oaWRlVGltZVVuaXQsIGxhbmd1YWdlLmhpZGVUaW1lVW5pdCwgZmFsc2UpLFxyXG4gICAgICAgICAgICBudW1lcmljTm90YXRpb246IG9uZU9mKG1ldGhvZFNldHRpbmdzLm51bWVyaWNOb3RhdGlvbiwgdGhpcy5fc2V0dGluZ3MubnVtZXJpY05vdGF0aW9uLCBsYW5ndWFnZS5udW1lcmljTm90YXRpb24sIFwiZGVjaW1hbFwiKSxcclxuICAgICAgICAgICAgbnVtZXJpY1dyaXRlcjogb25lT3JOb25lT2YobWV0aG9kU2V0dGluZ3MubnVtZXJpY1dyaXRlciwgdGhpcy5fc2V0dGluZ3MubnVtZXJpY1dyaXRlciwgbGFuZ3VhZ2UubnVtZXJpY1dyaXRlciksXHJcbiAgICAgICAgICAgIHNwYWNlVGltZVVuaXQ6IG9uZU9mKG1ldGhvZFNldHRpbmdzLnNwYWNlVGltZVVuaXQsIHRoaXMuX3NldHRpbmdzLnNwYWNlVGltZVVuaXQsIGxhbmd1YWdlLnNwYWNlVGltZVVuaXQsIHRydWUpLFxyXG4gICAgICAgICAgICB0ZXJtczoge1xyXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IG9uZU9mKHRlcm1zMS5pbmZpbml0ZSwgdGVybXMyLmluZmluaXRlLCB0ZXJtczMuaW5maW5pdGUsIFwiaW5maW5pdGVcIiksXHJcbiAgICAgICAgICAgICAgICBuYW46IG9uZU9mKHRlcm1zMS5uYW4sIHRlcm1zMi5uYW4sIHRlcm1zMy5uYW4sIFwibm90LWEtbnVtYmVyXCIpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2ZXJib3NlVGltZVVuaXQ6IG9uZU9mKG1ldGhvZFNldHRpbmdzLnZlcmJvc2VUaW1lVW5pdCwgdGhpcy5fc2V0dGluZ3MudmVyYm9zZVRpbWVVbml0LCBsYW5ndWFnZS52ZXJib3NlVGltZVVuaXQsIGZhbHNlKSxcclxuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGhcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgcGFyc2VzIGFsbCBudW1lcmljIHByb3BlcnRpZXM6IG51bWVyaWNXcml0ZXIsIG51bWVyaWNOb3RhdGlvbiwgZnJhY3Rpb25EaWdpdHMgYW5kIGRlY2ltYWxTZXBhcmF0b3JcclxuICAgIHByaXZhdGUgX3dyaXRlTnVtYmVyKHZhbHVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZih0aGlzLl93cml0ZXJTZXR0aW5nc0NhY2hlLm51bWVyaWNXcml0ZXIpID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUubnVtZXJpY1dyaXRlcih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0ZXJtcyA9IHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUudGVybXMgfHwge307XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRlcm1zLmluZmluaXRlIGFzIHN0cmluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRlcm1zLm5hbiBhcyBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fd3JpdGVyU2V0dGluZ3NDYWNoZS5udW1lcmljTm90YXRpb24gPT09IFwicm9tYW5cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGVSb21hbih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fd3JpdGVyU2V0dGluZ3NDYWNoZS5udW1lcmljTm90YXRpb24gPT09IFwicm9tYW4tZnJhY3Rpb25zXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlUm9tYW4odmFsdWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGVjaW1hbFNlcGFyYXRvciA9IGdldExvY2FsRGVjaW1hbFNlcGFyYXRvcigpO1xyXG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy8gVGhlIG9ubHkgYmlnLmpzIHVzYWdlIGZvciB0aGlzIG1vZHVsZSBpcyB0byB3cml0ZSB0aGUgbnVtYmVycyAoSlMgbWF0aCBpcyBmYXN0ZXIgZm9yIGNhbGN1bGF0aW9ucyk6XHJcbiAgICAgICAgaWYgKHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUubnVtZXJpY05vdGF0aW9uID09PSBcInNjaWVudGlmaWNcIikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBCaWcodmFsdWUpLnRvRXhwb25lbnRpYWwodGhpcy5fd3JpdGVyU2V0dGluZ3NDYWNoZS5mcmFjdGlvbkRpZ2l0cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gQmlnKHZhbHVlKS50b0ZpeGVkKHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUuZnJhY3Rpb25EaWdpdHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUuZGVjaW1hbFNlcGFyYXRvciA9PT0gZGVjaW1hbFNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXBsYWNlKGRlY2ltYWxTZXBhcmF0b3IsIHRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUuZGVjaW1hbFNlcGFyYXRvciBhcyBzdHJpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3dyaXRlUm9tYW4odmFsdWU6IG51bWJlciwgZnJhY3Rpb25zOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm51bGxhXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmaXhlZFZhbHVlID0gTWF0aC50cnVuYyh2YWx1ZSk7XHJcbiAgICAgICAgbGV0IGFtb3VudExlZnQgPSBmaXhlZFZhbHVlO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICB3aGlsZSAoYW1vdW50TGVmdCA+IDApIHtcclxuICAgICAgICAgICAgLy8gVGhlIG9yZGVyIG9mIHJvbWFuTnVtZXJhbHMgaXMgaW1wb3J0YW50IGhlcmU6IHRoZXkgYXJlIHdyaXR0ZW4gZnJvbSBsYXJnZSB0byBsZXNzZXJcclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiByb21hbk51bWVyYWxzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU28sIGlmIHZhbHVlIGlzIDExMTEsIHRoaXMgYWNjb3VudHMgZm9yIE0gKDEwMDApIGZpcnN0LCB0aGVuIEMgKDEwMCksIHRoZW4gWCAoMTApLCB0aGVuIEkgKDEpXHJcbiAgICAgICAgICAgICAgICBpZiAoYW1vdW50TGVmdCA+PSBlbnRyeVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudExlZnQgLT0gZW50cnlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZnJhY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLl93cml0ZVJvbWFuRnJhY3Rpb24odmFsdWUgLSBmaXhlZFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMCA/IHJlc3VsdCA6IFwibnVsbGFcIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF93cml0ZVJvbWFuRnJhY3Rpb24oZnJhY3Rpb246IG51bWJlcikge1xyXG5cclxuICAgICAgICBsZXQgc21hbGxlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICAgICAgbGV0IHNtYWxsZXN0SW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgLy8gTm90IG11Y2ggdG8gZXhwbGFpbjogY29tcGFyZXMgYWxsIHJvbWFuRnJhY3Rpb25zIHdpdGggdGhlIGdpdmVuIGZyYWN0aW9uIGFuZCByZXR1cm5zIHRoZSBvbmUgd2l0aCB0aGVcclxuICAgICAgICAvLyBzbWFsbGVzdCBkaWZmZXJlbmNlIChvbmx5IGZhc3RlciBpZiB0aGUgZGlmZmVyZW5jZSBpcyBleGFjdGx5IHplcm8pXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9tYW5GcmFjdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3Qgcm9tYW5GcmFjdGlvbiA9IHJvbWFuRnJhY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlID0gTWF0aC5hYnMoZnJhY3Rpb24gLSByb21hbkZyYWN0aW9uWzBdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9tYW5GcmFjdGlvblsxXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPCBzbWFsbGVzdERpZmZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICAgIHNtYWxsZXN0RGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XHJcbiAgICAgICAgICAgICAgICBzbWFsbGVzdEluZGV4ID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJvbWFuRnJhY3Rpb25zW3NtYWxsZXN0SW5kZXhdWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgcGFyc2VzIGFsbCBsaW5ndWlzdGljIHByb3BlcnRpZXM6IGN1c3RvbVBsdXJhbCwgcGx1cmFsaXplLCByZWFkYWJsZU5hbWUgYW5kIHN5bWJvbFxyXG4gICAgcHJpdmF0ZSBfd3JpdGVUaW1lVW5pdCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgdGltZVVuaXRTZXR0aW5ncyA9IHRoaXMuX3RpbWVVbml0U2V0dGluZ3NDYWNoZTtcclxuXHJcbiAgICAgICAgbGV0IHBsdXJhbGl6ZSA9IHZhbHVlID4gMSAmJiAoISF0aW1lVW5pdFNldHRpbmdzLmN1c3RvbVBsdXJhbCB8fCB0aW1lVW5pdFNldHRpbmdzLnBsdXJhbGl6ZSk7XHJcbiAgICAgICAgbGV0IHJlYWRhYmxlTmFtZSA9IHRpbWVVbml0U2V0dGluZ3MucmVhZGFibGVOYW1lIGFzIHN0cmluZztcclxuXHJcbiAgICAgICAgLy8gTmV2ZXIgcGx1cmFsaXplIHN5bWJvbHNcclxuICAgICAgICBpZiAoIXRoaXMuX3dyaXRlclNldHRpbmdzQ2FjaGUudmVyYm9zZVRpbWVVbml0ICYmIHRpbWVVbml0U2V0dGluZ3Muc3ltYm9sKSB7XHJcbiAgICAgICAgICAgIHJlYWRhYmxlTmFtZSA9IHRpbWVVbml0U2V0dGluZ3Muc3ltYm9sO1xyXG4gICAgICAgICAgICBwbHVyYWxpemUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbHVyYWxpemUgJiYgIXRpbWVVbml0U2V0dGluZ3MuY3VzdG9tUGx1cmFsKSB7XHJcbiAgICAgICAgICAgIHJlYWRhYmxlTmFtZSA9IGAke3JlYWRhYmxlTmFtZX1zYDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbHVyYWxpemUgJiYgdHlwZW9mKHRpbWVVbml0U2V0dGluZ3MuY3VzdG9tUGx1cmFsKSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZWFkYWJsZU5hbWUgPSB0aW1lVW5pdFNldHRpbmdzLmN1c3RvbVBsdXJhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbHVyYWxpemUgJiYgdHlwZW9mKHRpbWVVbml0U2V0dGluZ3MuY3VzdG9tUGx1cmFsKSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHJlYWRhYmxlTmFtZSA9IHRpbWVVbml0U2V0dGluZ3MuY3VzdG9tUGx1cmFsKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZWFkYWJsZU5hbWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb250YWlucyBjb25maWd1cmF0aW9ucyBmb3IgW1tUaW1lV3JpdGVyXV0uXHJcbiAqXHJcbiAqIE9iamVjdHMgb2YgdGhpcyB0eXBlIG1heSBiZSBhc3NpZ25lZFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lV3JpdGVyU2V0dGluZ3Mge1xyXG5cclxuICAgIC8qKiBTcGVjaWZpZXMgdGhlIHN0cmluZyB1c2VkIGFzIGRlY2ltYWwgc2VwYXJhdG9yLiAqL1xyXG4gICAgZGVjaW1hbFNlcGFyYXRvcj86IHN0cmluZztcclxuXHJcbiAgICAvKiogU3BlY2lmaWVzIHRoZSBkZWZhdWx0IHVuaXQgdG8gY29udmVydCB0byB3aGVuIHdyaXRpbmcgdGltZSB2YWx1ZXMuICovXHJcbiAgICBkZWZhdWx0VGltZVVuaXQ/OiBUaW1lVW5pdFBhcmFtZXRlcjtcclxuXHJcbiAgICAvKiogU3BlY2lmaWVzIHRoZSBhbW91bnQgb2YgZnJhY3Rpb24gZGlnaXRzIHRvIGJlIHN5bnRoZXNpemVkLiAqL1xyXG4gICAgZnJhY3Rpb25EaWdpdHM/OiBudW1iZXI7XHJcblxyXG4gICAgLyoqIFdoZW4gZW5hYmxlZCwgdGltZSB1bml0cyB3aWxsIG5vdCBiZSB3cml0dGVuLiAqL1xyXG4gICAgaGlkZVRpbWVVbml0PzogYm9vbGVhbjtcclxuXHJcbiAgICAvKiogTnVtZXJpYyBzeXN0ZW0gdXNlZCB3aGVuIHdyaXRpbmcgdGltZSB2YWx1ZXM7IGRlZmF1bHRzIHRvIGBcImRlY2ltYWxcImAuICovXHJcbiAgICBudW1lcmljTm90YXRpb24/OiBOdW1lcmljTm90YXRpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGN1c3RvbSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGEgd2F5IHRvIHdyaXRlIHRpbWUgdmFsdWVzIGluIGFueSBmb3JtYXQgZGVzaXJlZC4gV2hlbiBwcm92aWRlZCwgW1tUaW1lV3JpdGVyXV1cclxuICAgICAqIHdpbGwgaWdub3JlIFtbbnVtZXJpY05vdGF0aW9uXV0gYW5kIHVzZSB0aGlzIGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIG51bWVyaWNXcml0ZXI/OiBOdW1lcmljV3JpdGVyO1xyXG5cclxuICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0byBzcGFjZSBudW1iZXJzIGFuZCB0aW1lIHVuaXRzLiAqL1xyXG4gICAgc3BhY2VUaW1lVW5pdD86IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHByb3BlcnR5IG1heSBiZSB1c2VkIHRvIHNldCB0aGUgdGVybWlub2xvZ3kgdXNlZCB0byByZXByZXNlbnQgYSBmZXcgc3BlY2lhbCBudW1lcmljIHZhbHVlcy5cclxuICAgICAqXHJcbiAgICAgKiBTcGVjaWZ5aW5nIGEgW1tudW1lcmljV3JpdGVyXV0gd2lsbCBvdmVycmlkZSB0aGUgdXNhZ2Ugb2YgdGhlc2UgdGVybXMuXHJcbiAgICAgKi9cclxuICAgIHRlcm1zPzoge1xyXG5cclxuICAgICAgICAvKiogVGhlIHdvcmQgdXNlZCBmb3IgaW5pZmluaXRlIHZhbHVlcywgX0luZmluaXR5Xy4gKi9cclxuICAgICAgICBpbmZpbml0ZT86IHN0cmluZztcclxuXHJcbiAgICAgICAgLyoqIFRoZSB3b3JkIHVzZWQgZm9yIG5vdC1hLW51bWJlciB2YWx1ZXMsIF9OYU5fLiAqL1xyXG4gICAgICAgIG5hbj86IHN0cmluZztcclxuICAgIH07XHJcblxyXG4gICAgLyoqIFdoZXRoZXIgb3Igbm90IHRvIHdyaXRlIGRvd24gdGhlIGZ1bGwgdW5pdCByZWFkYWJsZSBuYW1lLCBpbnN0ZWFkIG9mIGl0cyBzeW1ib2wuICovXHJcbiAgICB2ZXJib3NlVGltZVVuaXQ/OiBib29sZWFuO1xyXG59XHJcbiJdfQ==
